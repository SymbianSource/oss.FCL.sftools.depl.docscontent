<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2007-2010 Nokia Corporation and/or its subsidiary(-ies) All rights reserved. -->
<!-- This component and the accompanying materials are made available under the terms of the License 
"Eclipse Public License v1.0" which accompanies this distribution, 
and is available at the URL "http://www.eclipse.org/legal/epl-v10.html". -->
<!-- Initial Contributors:
    Nokia Corporation - initial contribution.
Contributors: 
-->
<!DOCTYPE concept
  PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept xml:lang="en" id="GUID-A4FBD7D4-DCC0-517A-BCAA-D36D8940A64D"><title>SMS Utilities</title><shortdesc>This section provides a summary of the classes and the functionality provided by the SMSU. The SMS Utility (SMSU) is a DLL. The SMSU provides utility functionality for SMS messages. </shortdesc><prolog><metadata><keywords/></metadata></prolog><conbody><section><title>Buffer and streams</title> <p>The SMSU creates the buffers, read streams and write streams required for the SMS stack. The SMSU creates a temporary buffer of 256 bytes to store the Protocol Data Units (PDU)s in the SMS stack. The PDUs are processed by the SMS stack in the temporary buffers. </p> </section> <section><title>SMS event logger</title> <p>SMSU provides the required functionality to log the events using the <xref href="GUID-5B63D14D-007D-566F-A065-1A25FE4B97A3.dita">Log engine</xref>. The SMS stack logs all the sent and received messages using the Log engine. The Log engine is used by the User Interface (UI) implementers to display the log to the users. Client can use this functionality, only if the Log engine is installed in a device. </p> </section> <section><title>SMS address</title> <p>The <xref href="GUID-F278803A-546A-3E04-B208-5A963008C238.dita"><apiname>TSmsAddr</apiname></xref> of the SMSU provides methods to store the SMS address values. The SMS addresses are stored in a <xref href="GUID-C8CFCCDE-E04A-3084-86BF-7A2AF729EEEB.dita"><apiname>TSmsAddrFamily</apiname></xref> type. The <xref href="GUID-F278803A-546A-3E04-B208-5A963008C238.dita"><apiname>TSmsAddr</apiname></xref> also enables the SMS stack to bind the packets to the socket server using the parameters defined in <xref href="GUID-F278803A-546A-3E04-B208-5A963008C238.dita"><apiname>TSmsAddr</apiname></xref>. <xref href="GUID-F278803A-546A-3E04-B208-5A963008C238.dita#GUID-F278803A-546A-3E04-B208-5A963008C238/GUID-3976BF09-8CE1-3DB7-BDDE-04C5B5137402"><apiname>TSmsAddr::SetSmsAddrFamily()</apiname></xref> can be used to define the socket and port to bind the packets. The enumeration table for SMS socket address family: </p> <table id="GUID-29DBD309-4BE2-5C12-BFAD-4415E17A4870"><tgroup cols="2"><colspec colname="col0"/><colspec colname="col1"/><thead><row><entry>Enumeration</entry> <entry>Socket customisation</entry> </row> </thead> <tbody><row><entry><p> <xref href="GUID-7FFA4D64-B3BC-3F85-A126-C6E0BCCA67BB.dita"><apiname>ESmsAddrUnbound</apiname></xref>  </p> </entry> <entry><p>Unbound socket. </p> </entry> </row> <row><entry><p> <xref href="GUID-22467A92-2045-3F62-A9B2-66CF72AB89ED.dita"><apiname>ESmsAddrSendOnly</apiname></xref>  </p> </entry> <entry><p>Socket can only send and cannot receive any messages. </p> </entry> </row> <row><entry><p> <xref href="GUID-C9EA70A2-A581-3FA2-9EE5-B3F1F26E89FA.dita"><apiname>ESmsAddrMatchIEI</apiname></xref>  </p> </entry> <entry><p>To match Information Element Identifiers (IEI). </p> </entry> </row> <row><entry><p> <xref href="GUID-DBAF6B46-9626-351E-84DC-F45D60654CDB.dita"><apiname>ESmsAddrMessageIndication</apiname></xref>  </p> </entry> <entry><p>To match on IEI 0x01 and DCS 0x1100xxxx, 0x1101xxxx and 0x1110xxxx. </p> </entry> </row> <row><entry><p> <xref href="GUID-26CDC2B1-9354-30F0-A30C-AF8D2E197FF5.dita"><apiname>ESmsAddrMatchText</apiname></xref>  </p> </entry> <entry><p>To match any text patterns </p> </entry> </row> <row><entry><p> <xref href="GUID-543CB404-A047-3529-8FB3-4F6F8E2BAD06.dita"><apiname>ESmsAddrRecvAny</apiname></xref>  </p> </entry> <entry><p>To receive all messages. Only one client can use this. </p> </entry> </row> <row><entry><p> <xref href="GUID-24D5A63A-D342-3D71-B9DE-409457EA17D7.dita"><apiname>ESmsAddrStatusReport</apiname></xref>  </p> </entry> <entry><p>To receive Status Reports. </p> </entry> </row> <row><entry><p> <xref href="GUID-BD7B3C32-32E7-35D0-B1E8-132500D41600.dita"><apiname>ESmsAddrLocalOperation</apiname></xref>  </p> </entry> <entry><p>Socket for local SIM operations. </p> </entry> </row> <row><entry><p> <xref href="GUID-7C245007-6C24-3068-8941-336C14DB8BFE.dita"><apiname>ESmsAddrApplication8BitPort</apiname></xref>  </p> </entry> <entry><p>Socket for sock port identification. </p> </entry> </row> <row><entry><p> <xref href="GUID-CFC5100F-266F-3FB8-AAE4-D91838624820.dita"><apiname>ESmsAddrApplication16BitPort</apiname></xref>  </p> </entry> <entry><p>Socket for sock port identification. </p> </entry> </row> <row><entry><p> <xref href="GUID-4944BDF5-49CB-3996-A9AD-44FA65EAC8A8.dita"><apiname>ESmsAddrEmail</apiname></xref>  </p> </entry> <entry><p>To match email messages. </p> </entry> </row> </tbody> </tgroup> </table> </section> <section><title>SMS stack settings</title> <p> <xref href="GUID-2FB14ADA-D915-3BB5-8A9D-8FC48CDF1F42.dita"><apiname>TSmsSettings</apiname></xref> define the variables used by the SMS stack. The variables are initialised during the creation of the SMS stack. The variables in <xref href="GUID-2FB14ADA-D915-3BB5-8A9D-8FC48CDF1F42.dita"><apiname>TSmsSettings</apiname></xref> are initialised with the values defined in the <codeph>smswap.sms.esk</codeph> file. </p> </section> </conbody></concept>