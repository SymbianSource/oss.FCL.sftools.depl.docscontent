<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2007-2010 Nokia Corporation and/or its subsidiary(-ies) All rights reserved. -->
<!-- This component and the accompanying materials are made available under the terms of the License 
"Eclipse Public License v1.0" which accompanies this distribution, 
and is available at the URL "http://www.eclipse.org/legal/epl-v10.html". -->
<!-- Initial Contributors:
    Nokia Corporation - initial contribution.
Contributors: 
-->
<!DOCTYPE concept
  PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept xml:lang="en" id="GUID-FAB548CF-24EB-52D1-A7A1-9446BA67C7A5"><title>Camera Preset Support</title><prolog><metadata><keywords/></metadata></prolog><conbody><p>This document describes about the preset support provided as part of Ecam component. </p> <section><title>Providing Improved Camera Preset Support</title> <p>The following steps allows the clients to receive notification about possible changes in supported values and ranges, when camera operates in a particular preset mode. </p> <ol id="GUID-54E10369-B253-5A3F-865F-9A465EB3C989"><li id="GUID-B5000AD2-2D12-51D9-B038-A06CF4E61DB6"><p>Create a new UID <xref href="GUID-62198BF4-764C-3E57-AC39-550F884AAD11.dita"><apiname>KUidECamEventRangeRestricted</apiname></xref> to notify the clients about the possible range restrictions, when camera operates in a particular preset mode. </p> </li> <li id="GUID-6769FA35-42C1-5E63-BBC5-D4B02BAFFC21"><p>Use <xref href="GUID-2773C25B-19DF-38B0-84F7-CABC89F43DD2.dita"><apiname>TECAMEvent</apiname></xref> class to report this event to the client. </p> </li> <li id="GUID-9D7C0B6F-CFA8-527F-9361-84ED1775B4E8"><p>Client gets the list of UIDs for which range has been restricted using <xref href="GUID-6750F61A-455B-371E-893B-090350DCB704.dita#GUID-6750F61A-455B-371E-893B-090350DCB704/GUID-B16C3B90-2788-34B5-94CF-B1F928AAB816"><apiname>CCamera::CCameraPresets::GetFeatureRestrictedSettingsL</apiname></xref> method. </p> </li> <li id="GUID-5D129427-E51F-56EF-8E7C-1BDBE40A0098"><p>Notify the client about the restricted features using the UID <xref href="GUID-547AD3B0-CDCD-335D-97AD-D38622DEBE43.dita"><apiname>KUidECamEventFeatureRestricted</apiname></xref> invoked by ECAM implementation, when camera works in a specific preset mode. </p> </li> <li id="GUID-A683471D-BE75-5E09-9AB9-0CB1C3B0AFF3"><p>Client retrieves the list of uids representing the settings which do not support few feature values using <xref href="GUID-6AC2B220-A05C-3F53-B962-12F951B9BCEB.dita"><apiname>GetFeatureRestrictedSettingsL</apiname></xref> method. An array of TUid <xref href="GUID-0A0EF639-6B37-3F11-981F-5A117D853B0D.dita"><apiname>aFeatureRestrictedSettings</apiname></xref>, retrieves the settings for which the current preset has imposed feature value restrictions. If no restrictions have been imposed, an empty array will be returned. </p> </li> <li id="GUID-AEACA837-A9BA-56D4-978A-C7228DCB327A"><p>Clients can retrieve information if the preset unlock feature is supported using <xref href="GUID-6750F61A-455B-371E-893B-090350DCB704.dita#GUID-6750F61A-455B-371E-893B-090350DCB704/GUID-A0E382E0-832E-3DA4-8CF4-629D74F6CA87"><apiname>CCamera::CCameraPresets::IsPresetUnlockSupportedL</apiname></xref> method. </p> <p>Unlocking preset settings of the camera that worked in a particular preset mode earlier, helps to make changes to the settings subsequently. This can be done as follows: </p> <ul><li id="GUID-0A085E9C-0940-5079-9A02-5D47F506D291"><p>ECAM implementation uses appropriate settings in the camera, to meet the specific preset requirements requested by the client, and the camera with the specific preset is in locked state. </p> <p>By default, the client cannot customise this preset value, without unlocking the preset. </p> </li> <li id="GUID-6C9B5ABC-49D9-5E63-820F-1A0291E9CB7F"><p>Unlock the preset using <xref href="GUID-6750F61A-455B-371E-893B-090350DCB704.dita#GUID-6750F61A-455B-371E-893B-090350DCB704/GUID-067B9ECD-EE8E-3ED3-B570-F4D2BD8754E2"><apiname>CCamera::CCameraPresets::UnlockPresetL()</apiname></xref>, to change the settings. </p> </li> <li id="GUID-E0E7584C-B1D5-5087-B1C6-30C2B1AA5F49"><p>Make sure to lock the preset using <xref href="GUID-6750F61A-455B-371E-893B-090350DCB704.dita#GUID-6750F61A-455B-371E-893B-090350DCB704/GUID-34702C51-953C-341D-9730-BC1547250F03"><apiname>CCamera::CCameraPresets::LockPresetL()</apiname></xref>, when the changes are made. This prevents further changes in settings. </p> </li> <li id="GUID-E2EB81D2-9068-55B7-BE79-4D7B95469421"><p>Whenever client customizes the camera settings after putting the camera in a particular preset, the ECam implementation realises that the preset to be <xref href="GUID-CE906148-7BC9-38D8-97AF-C8876897D9BA.dita"><apiname>KUidECamPresetNone</apiname></xref> instead of the preset previously set by the client. So <xref href="GUID-6750F61A-455B-371E-893B-090350DCB704.dita#GUID-6750F61A-455B-371E-893B-090350DCB704/GUID-B1EAB3BA-C20D-3527-AE20-AE95B444FBC6"><apiname>CCamera::CCameraPresets::Preset()</apiname></xref> will always retrieve <xref href="GUID-CE906148-7BC9-38D8-97AF-C8876897D9BA.dita"><apiname>KUidECamPresetNone</apiname></xref>, when client customises the actual preset settings. </p> </li> </ul> </li> </ol> </section> </conbody><related-links><link href="GUID-9014ED9B-B0A0-5C95-9C5B-7D2F658C757F.dita"><linktext>Accessing and Power Control of
                Camera</linktext> </link> <link href="GUID-DA26D246-D74A-529F-9F81-11B45669103F.dita"><linktext>Capturing Image</linktext> </link> <link href="GUID-F690DAC8-688B-5BD7-88DF-0CB3D4ACDCFF.dita"><linktext>Capturing Video</linktext> </link> </related-links></concept>