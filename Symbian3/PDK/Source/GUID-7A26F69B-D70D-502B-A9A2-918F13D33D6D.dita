<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2007-2010 Nokia Corporation and/or its subsidiary(-ies) All rights reserved. -->
<!-- This component and the accompanying materials are made available under the terms of the License 
"Eclipse Public License v1.0" which accompanies this distribution, 
and is available at the URL "http://www.eclipse.org/legal/epl-v10.html". -->
<!-- Initial Contributors:
    Nokia Corporation - initial contribution.
Contributors: 
-->
<!DOCTYPE reference
  PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference xml:lang="en" id="GUID-7A26F69B-D70D-502B-A9A2-918F13D33D6D"><title>Privacy Request API Reference</title><shortdesc>This section describes the dynamic behaviour of the Privacy Request API using a set of sequence diagrams. </shortdesc><prolog><metadata><keywords/></metadata></prolog><refbody><section><title>Sequence diagrams</title> <p>The sequence diagrams in this section describe the behaviour of the Privacy Request API when a licensee has installed and configured a Privacy Controller, Privacy Notifiers or Privacy Q&amp;N Notifiers. </p> <p><b>Startup and shutdown sequences</b> </p> <p>The sequence diagrams in this section describe how the LBS subsystem starts up and shuts down in the <xref href="GUID-D18B4715-3942-52EA-9D2F-E145037FA47A.dita">Standalone Privacy Mode configuration</xref>. </p> <p id="GUID-2D53A46F-8CDF-5069-9CCA-8ECCF6D1AF07"><b>Startup sequence</b> </p> <p>The LBS subsystem is started when an API client creates an instance of a <codeph>CLbsPrivacyRequest</codeph> class. </p> <fig id="GUID-5610AB0D-F55C-5102-B893-B91D176394E9"><title>
                  Figure 1.1. LBS startup. 
                </title> <image href="GUID-3C86C6E4-43E3-5D0C-B08A-3130FE3426CD_d0e454449_href.png" placement="inline"/></fig> <p id="GUID-156A1406-3FC2-5828-AC71-44F327F0B7F2"><b>Shutdown sequence</b> </p> <p>The LBS subsystem is shutdown when the licensee Privacy Request API client closes its connection and calls the <codeph>CLbsPrivacyRequest</codeph> destructor. </p> <fig id="GUID-9084D16D-8F3D-5690-A3E2-6CF5D2EF1407"><title>
                  Figure 1.2 LBS shutdown. 
                </title> <image href="GUID-A071544E-FC8D-5912-99F9-8D651AA3BA07_d0e454466_href.png" placement="inline"/></fig> <p><b>Privacy Controller sequences</b> </p> <p id="GUID-1DDF3E08-824A-5B98-B8BD-99E09B3F9682"><b>Privacy verification with a Privacy Controller (request accepted, rejected or timeout) </b> </p> <fig id="GUID-624752DE-21CB-5851-9962-482972C616BB"><title>
                  Figure 2.1 Privacy verification with a Privacy Controller. 
                </title> <image href="GUID-4DACC8E6-090F-5FDE-9D67-5B43A9E8C6B2_d0e454482_href.png" placement="inline"/></fig> <p id="GUID-5F5AF5D0-37F6-5E55-8C21-F5E0B21E615F"><b>Privacy notification with a Privacy Controller</b> </p> <fig id="GUID-01898E62-E626-5B18-91BB-693146B6981D"><title>
                  Figure 2.2 Privacy notification with a Privacy Controller. 
                </title> <image href="GUID-EC6B9856-978A-5C5C-AC44-B6C93D631FD6_d0e454493_href.png" placement="inline"/></fig> <p id="GUID-E5CF7214-BB93-5CD2-9D2C-A3B03E837611"><b>Privacy verification cancelled with a Privacy Controller</b> </p> <fig id="GUID-C29ADDEB-CBF0-561D-9D3C-9D8885F3524B"><title>
                  Figure 2.3. Privacy verification cancelled with Privacy
                  Controller. 
                </title> <image href="GUID-A6033641-8050-55FF-86EA-FA4D3B273084_d0e454504_href.png" placement="inline"/></fig> <p id="GUID-99ED9F8E-C3EA-5452-A3D8-B7F9E6A3F45B"><b>Timeout notification with a Privacy Controller</b> </p> <fig id="GUID-CD6DDA29-DF87-5895-9E2F-9DF70B0AFD51"><title>
                  Figure 2.4. Timeout notification with a Privacy Controller. 
                </title> <image href="GUID-F6C68A6B-2D66-56A6-A706-7145C5E7F52A_d0e454515_href.png" placement="inline"/></fig> <p><b>Privacy Notifier sequences</b> </p> <p id="GUID-5D269216-9094-58E5-980E-9BA2B3702DFB"><b>Privacy verification with a Privacy Notifier (request accepted, rejected or timeout)</b> </p> <fig id="GUID-D185BA94-1416-55BF-A638-57F01A1566EF"><title>
                  Figure 3.1. Privacy verification with a Privacy Notifier. 
                </title> <image href="GUID-C93C2E54-06CE-5BE4-9618-7B62FA086D6B_d0e454531_href.png" placement="inline"/></fig> <p id="GUID-6BBE9204-0F5E-5573-91A1-8024519269E6"><b>Privacy notification with a Privacy Notifier</b> </p> <fig id="GUID-087F7DA4-8B08-5C1C-BE37-EF5C3B2E0EE2"><title>
                  Figure 3.2. Privacy notification with a Privacy Notifier. 
                </title> <image href="GUID-B77F8AA2-969A-59CC-908E-CEC486247B2F_d0e454542_href.png" placement="inline"/></fig> <p id="GUID-A2CB6598-400F-5ADA-BFC8-06175C8AF77D"><b>Privacy verification cancelled with Privacy Notifier</b> </p> <fig id="GUID-A8CF2E34-A4D9-5388-961D-946776ACC31B"><title>
                  Figure 3.3. Privacy verification cancelled with Privacy Notifier.
                  
                </title> <image href="GUID-47C04C71-3E77-55A7-BA95-4A03C7554975_d0e454553_href.png" placement="inline"/></fig> <p id="GUID-D5EBA0B7-6DC8-5DBA-917C-D99D83BEC407"><b>Timeout notification with Privacy Notifier</b> </p> <fig id="GUID-84643402-6DA5-56E6-A386-08301D2F807B"><title>
                  Figure 3.4. Timeout notification with a Privacy Notifier. 
                </title> <image href="GUID-9070E54B-8E3E-5968-AC78-1F2478FDCBA1_d0e454564_href.png" placement="inline"/></fig> <p><b>Privacy Q&amp;N Notifier sequences</b> </p> <p id="GUID-A0DCF80D-13E2-5B18-B433-C73AA650C1F1"><b>Privacy verification with a Privacy Q&amp;N notifier (request accepted, rejected or timeout) </b> </p> <fig id="GUID-902E8DA7-8BA2-5AF4-A988-084283019436"><title>
                  Figure 4.1. Privacy verification with a Privacy Q&amp;N Notifier.
                  
                </title> <image href="GUID-BE4BA4D8-8FA4-5330-BFF8-311BCADBB7E7_d0e454580_href.png" placement="inline"/></fig> <p id="GUID-6C358B24-F742-5BFD-858E-2B65D082B858"><b>Privacy notification with a Privacy Q&amp;N notifier </b> </p> <fig id="GUID-177ABF2E-86A6-5152-84F9-800B678A0C5F"><title>
                  Figure 4.2. Privacy notification with a Privacy Q&amp;N Notifier.
                  
                </title> <image href="GUID-C595C1E9-9371-5449-823F-ECEBDE13FB7B_d0e454591_href.png" placement="inline"/></fig> <p id="GUID-72FFAF01-3FF3-5931-B5CB-307B42FF9AEB"><b>Privacy verification cancelled with Privacy Q&amp;N notifier</b> </p> <fig id="GUID-F28D9CB5-D7D7-5483-8527-4E928123D395"><title>
                  Figure 4.3. Privacy verification cancelled with Privacy Q&amp;N
                  Notifier. 
                </title> <image href="GUID-E6BC747F-12E6-5866-99E2-D13E5AAE1F12_d0e454602_href.png" placement="inline"/></fig> <p id="GUID-E57AFF54-62D0-5531-A6C4-3A2CBA806A59"><b>Timeout notification with Privacy Q&amp;N notifier</b> </p> <fig id="GUID-30EDA46F-3C3C-5B63-AA38-DE4977765254"><title>
                  Figure 4.4. Timeout notification with a Privacy Q&amp;N Notifier.
                  
                </title> <image href="GUID-C4461397-04A0-5056-B8A5-8FEFF9AF052C_d0e454613_href.png" placement="inline"/></fig> </section> </refbody><related-links><link href="GUID-0BF06E5D-BEEF-5E15-894E-FA605FA12E33.dita"><linktext>Privacy
                Protocol Module Overview</linktext> </link> <link href="GUID-E1710E40-B8F5-5CF8-B9FE-698869A1770F.dita"><linktext>Privacy
                Request API</linktext> </link> </related-links></reference>