<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2007-2010 Nokia Corporation and/or its subsidiary(-ies) All rights reserved. -->
<!-- This component and the accompanying materials are made available under the terms of the License 
"Eclipse Public License v1.0" which accompanies this distribution, 
and is available at the URL "http://www.eclipse.org/legal/epl-v10.html". -->
<!-- Initial Contributors:
    Nokia Corporation - initial contribution.
Contributors: 
-->
<!DOCTYPE concept
  PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept xml:lang="en" id="GUID-F84E7419-7F31-5E18-8854-27CB1F9F890E"><title>Bluetooth GPS PSY Settings Storage API Overview</title><shortdesc>The Bluetooth GPS PSY Settings Storage API defines Central Repository keys for storing and retrieving the settings of the Bluetooth GPS PSY. The API is for developers who write applications to get and set Bluetooth GPS PSY settings. </shortdesc><prolog><metadata><keywords/></metadata></prolog><conbody><section><title>Purpose</title> <p>The Bluetooth GPS PSY Settings Storage API is used for storing and retrieving the settings of the Bluetooth GPS PSY. The settings are stored in the Central Repository. </p> </section> <section><title>Library details</title> <p>This API consists of a set of Central Repository keys defined in the header file <filepath>BtGpsPsyPrivateCRKeys.h</filepath>. Applications must link with the Central Repository library <codeph>centralrepository.lib</codeph> to use this API. </p> </section> <section id="GUID-4A82708A-4444-5CC2-9F60-C1C7E081C610"><title>Description</title> <p>This API is a Central Repository type of API used for storing and retrieving the Bluetooth GPS PSY settings. </p> <p>This API does not define any classes. It defines the Bluetooth GPS PSY Setting Storage Central Repository UID <xref href="GUID-26200635-8C1C-33EA-98F6-F4C1CF130048.dita"><apiname>KCRUidBtGpsPsy</apiname></xref> and keys. The keys are defined in <filepath>BtGpsPsyPrivateCRKeys.h</filepath>. </p> </section> <section id="GUID-A177BE73-6F0B-53FA-AEE2-F98381B42B15"><title>Using the Bluetooth Settings Storage API</title> <p>The Bluetooth Settings Storage API supports the following operations: </p> <ul><li id="GUID-2ED679C1-D849-5988-AA8C-82DF2B5892AE"><p>Storing and retrieving the following GPS device settings: </p> <ul><li id="GUID-4357A916-D7A6-5CCE-91ED-D166953D4EB0"><p>Bluetooth GPS Night Mode status. </p> </li> <li id="GUID-DE3749D4-0CA9-54C3-B27A-825BEF2B9B5B"><p>Bluetooth GPS device address. </p> </li> <li id="GUID-53AE5146-C036-57C2-AA90-E738D0B03015"><p>Bluetooth GPS device address validity. </p> </li> </ul> </li> <li id="GUID-99CEF41F-9EA3-5280-81D4-EF8D2B2BC480"><p>Reading Bluetooth GPS PSY settings. </p> <p>Some PSY settings are read only. Read only values can be modified by device creators as described in <xref href="GUID-F9BEC749-D535-55EA-8601-A961EA1E441B.dita">Modifying the Bluetooth GPS PSY Central Repository Initialisation File</xref>. </p> </li> <li id="GUID-EBDD1068-1A85-5578-8901-ECA3052CDE1E"><p>Changing Bluetooth GPS device settings </p> <p>Some settings that describe the state of the connected Bluetooth GPS device have read and write permissions (see the table below). </p> </li> </ul> <p id="GUID-316B81F5-58FB-584A-8A4C-3F65E038BBD5"><b>Storing or retrieving Bluetooth GPS PSY Central Repository values</b> </p> <p>To change one of the read-write settings requires a client to have <codeph>WriteDeviceData</codeph> capability. A client does not need to have any capability to read key values. See <xref href="GUID-E3BE62B2-9625-5F79-84A4-0248A3F36225.dita">Central Repository How To Guide</xref> for details of how to read and write the settings. </p> <p>The following table describes the Central Repository keys. </p> <table id="GUID-C8D47FA8-BA0C-52CA-92CA-C871816A6D24"><tgroup cols="3"><colspec colname="col0"/><colspec colname="col1"/><colspec colname="col2"/><thead><row><entry>Keys</entry> <entry>Description</entry> <entry>Permission</entry> </row> </thead> <tbody><row><entry><p> <xref href="GUID-4CEC9B0D-2258-3078-B9BF-7ECBA8771089.dita"><apiname>KBluetoothGpsPsyNightModeState</apiname></xref>  </p> </entry> <entry><p>Whether the Bluetooth GPS Night Mode setting is off or on (value is 0 or 1). </p> </entry> <entry><p>Read &amp; Write </p> </entry> </row> <row><entry><p> <xref href="GUID-2B93F706-EBA0-3201-BC03-CEEC2CDE3912.dita"><apiname>KBluetoothGpsPsyDeviceAddress</apiname></xref>  </p> </entry> <entry><p>Stores address of paired Bluetooth GPS device for future reference. </p> </entry> <entry><p>Read &amp; Write </p> </entry> </row> <row><entry><p> <xref href="GUID-6ADC7EB7-8DCE-3A38-B2A5-DE124F06BA20.dita"><apiname>KBluetoothGpsPsyDeviceAddressValidity</apiname></xref>  </p> </entry> <entry><p>Stores information about whether connected Bluetooth device is a GPS device or not. Values are: </p> <ul><li id="GUID-21F0DADC-4CC3-5B2F-9F57-8090FB51F833"><p>0 if the device is not a GPS device (or does not support NMEA). </p> </li> <li id="GUID-D9040213-8975-5F82-AD1C-44F86C2D1ADE"><p>1 if the GPS device supports NMEA. </p> </li> <li id="GUID-A24827DC-1A68-5324-A14A-2532391EED36"><p>2 if the device supports PNOK NMEA extensions. </p> </li> </ul> </entry> <entry><p>Read &amp; Write </p> </entry> </row> <row><entry><p> <xref href="GUID-5CA02509-35A4-3D49-9B3A-1C59274D2D11.dita"><apiname>KBluetoothGpsPsyMsgSendDelay</apiname></xref>  </p> </entry> <entry><p>The minimum delay between messages that are sent to the Bluetooth device. </p> <p>Value is in microseconds. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-88A2ABD4-355E-38DC-A441-368B265258B3.dita"><apiname>KBluetoothGpsPsyUserEquivalentRangeError</apiname></xref>  </p> </entry> <entry><p>Defines the user equivalent range error used in GPS data error calculations. User equivalent range error is used for examining GPS positioning accuracy. </p> <p>Value is in metres. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-9E50BDBA-C1CB-3FF6-A4E7-8125D562F56D.dita"><apiname>KBluetoothGpsPsyNumTestNmeaSentences</apiname></xref>  </p> </entry> <entry><p>The number of test NMEA sentences expected. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-7D617B71-40A5-3937-A566-523A1D42316F.dita"><apiname>KBluetoothGpsPsyNormalGpsInitMsgDelay</apiname></xref>  </p> </entry> <entry><p>The delay between the initialisation messages sent to the GPS device. </p> <p>Value is in microseconds. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-6AF9A406-5BBB-3AA7-A77E-D99A3C3FAACA.dita"><apiname>KBluetoothGpsPsyNumSetFullPowerMsg</apiname></xref>  </p> </entry> <entry><p>The number of "set full power" messages to send when initialising the GPS device. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-AC1DE252-EC78-35DC-9DEC-5178557B6C26.dita"><apiname>KBluetoothGpsPsyPnokPollingDelay</apiname></xref>  </p> </entry> <entry><p>The delay in waiting for a PNOK compatible BT GPS device to respond to a PNOK polling message. </p> <p>Bluetooth GPS PSY sends a PNOK polling message to Bluetooth GPS device to determine whether connected Bluetooth GPS device is PNOK compatible. </p> <p>Value is in microseconds. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-4C2673BA-9EFF-39DF-9AEF-7F6EDBF4C996.dita"><apiname>KBluetoothGpsPsyReconnectionTimeout</apiname></xref>  </p> </entry> <entry><p>The time to wait between re-connection attempts. </p> <p>Value is specified in microseconds. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-99C00C9E-F69B-3321-BBCC-606CE3E3ECE5.dita"><apiname>KBluetoothGpsPsyInactiveDealy</apiname></xref>  </p> </entry> <entry><p>If the PSY has received no tracking session or location request by the expiry of this timeout, the PSY goes into the standby state. </p> <p>In the standby state, the connection to Bluetooth GPS device is disconnected. </p> <p>Value is in microseconds. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-F268AD43-4229-34F5-8223-388496B2A851.dita"><apiname>KBluetoothGpsPsyUtilisePowerSaving</apiname></xref>  </p> </entry> <entry><p>Specifies whether Bluetooth GPS device is in power saving mode or not. </p> <p>A value of 0 means power saving is disabled. Any other value means power saving is enabled. </p> <p>The power saving mode is where the device is powered on a certain amount of time at certain intervals and otherwise is turned off. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-55B69071-3020-3D35-848D-90E5B5942007.dita"><apiname>KBluetoothGpsPsySateInfoLifeTime</apiname></xref>  </p> </entry> <entry><p>Integer value that specifies the satellite information expiration time. Cached satellite information older than this value is not used. </p> <p>Value is in microseconds. </p> </entry> <entry><p>Read </p> </entry> </row> <row><entry><p> <xref href="GUID-5CBB3A4C-67C5-39F5-9D4D-D0A8AD12E9FE.dita"><apiname>KBluetoothGpsPsyNmeaBufferSize</apiname></xref>  </p> </entry> <entry><p>The size of NMEA data buffer. </p> </entry> <entry><p>Read </p> </entry> </row> </tbody> </tgroup> </table> <p id="GUID-7C1CC782-5229-56D6-864D-ABF62A8D5288"><b>Error handling</b> </p> <p>The Bluetooth GPS PSY Settings Storage API does not define or use any error codes. Refer to the <xref href="GUID-DEA618DF-D462-3B3E-A1E1-F21295AAFE78.dita"><apiname>CRepository</apiname></xref> class description in Symbian platform reference for further details on error handling in the Central Repository API. </p> <p id="GUID-5762FC49-ACCD-533D-802A-61231274475B"><b>Memory overhead</b> </p> <p>The Bluetooth GPS PSY Settings Storage API does not require any memory. The Central Repository API requires some memory to use the Bluetooth GPS PSY Settings Storage API. </p> </section> </conbody><related-links><link href="GUID-E3BE62B2-9625-5F79-84A4-0248A3F36225.dita"><linktext>Central Repository How To Guide</linktext> </link> <link href="GUID-F9BEC749-D535-55EA-8601-A961EA1E441B.dita"><linktext>Modifying the Bluetooth GPS
                PSY Central Repository Initialisation File</linktext> </link> <link href="GUID-5454AFE9-ADC2-5980-85FC-3FF457B638D0.dita"><linktext>Bluetooth
                GPS Positioning Module</linktext> </link> <link href="GUID-1D81831A-FFC9-50E7-9FA1-EC0958060588.dita"><linktext>Bluetooth
                GPS PSY Events API</linktext> </link> </related-links></concept>