<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2007-2010 Nokia Corporation and/or its subsidiary(-ies) All rights reserved. -->
<!-- This component and the accompanying materials are made available under the terms of the License 
"Eclipse Public License v1.0" which accompanies this distribution, 
and is available at the URL "http://www.eclipse.org/legal/epl-v10.html". -->
<!-- Initial Contributors:
    Nokia Corporation - initial contribution.
Contributors: 
-->
<!DOCTYPE concept
  PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept xml:lang="en" id="GUID-0F4D2856-5CD2-51C8-B310-BE05D69301C0"><title>Graphics BitGDI Test Suite</title><shortdesc>This topic describes the BitGDI Graphics test suite and explains how to set up the test environment. </shortdesc><prolog><metadata><keywords/></metadata></prolog><conbody><p> <b>Note</b>: Any mention to epoc32 is offset by <codeph>%EPOCROOT%</codeph>, which is the full path to where the epoc tree is installed. </p> <section><title>Test suite overview</title> <p>The BitGDI test suite provides regression test suites for the following classes: </p> <ul><li id="GUID-6FAB6114-8182-5FBC-BD6F-B73C55F1F59B"><p> <xref href="GUID-4A501086-7EFF-376D-8901-6D9B2EB4EFF2.dita"><apiname>CFbsBitGc</apiname></xref>  </p> </li> <li id="GUID-55C8B363-8CD0-5BEE-B4CB-13BF879510B1"><p> <xref href="GUID-A5F0F7E5-0153-3D6D-99D6-76C972315480.dita"><apiname>CFbsBitGcBitmap</apiname></xref>  </p> </li> <li id="GUID-DA33DA9E-A5BD-59B6-AF9B-3C93BF2E6ACB"><p> <xref href="GUID-4C2C5521-3C82-39AA-97C3-C25EBB748263.dita"><apiname>CFbsBitGcFont</apiname></xref>  </p> </li> <li id="GUID-5B351918-3369-5FBB-9B48-E2EEC3B9E395"><p> <xref href="GUID-71D27EBD-26B8-3D51-9798-1EAD461BCBCF.dita"><apiname>CFbsBitmapDevice</apiname></xref>  </p> </li> <li id="GUID-6FE8C822-352C-51AF-9BCD-68E47198E814"><p> <xref href="GUID-3E9EDED1-0C51-3D5B-AE59-4B2CFCB69C7B.dita"><apiname>CFbsDevice</apiname></xref>  </p> </li> <li id="GUID-5348E219-815E-5319-A34F-EE45BD783278"><p> <xref href="GUID-B229156F-2344-3F46-8542-AC65882D80DE.dita"><apiname>CFbsScreenDevice</apiname></xref>  </p> </li> <li id="GUID-4692B365-EA3D-5CB9-8930-1652D86E1A9C"><p> <xref href="GUID-C7ED0F2B-666B-3FF9-8CCD-8299F4C63D18.dita"><apiname>CPolygonFiller</apiname></xref>  </p> </li> </ul> </section> <section><title> Test approach</title> <p>The purpose of the test suite is to provide regression testing of the public (<codeph>PublishedAll</codeph>) APIs of the <xref href="GUID-EAAD1719-C02C-5705-A5C3-993E36441BE6.dita">BitGDI</xref> classes. The testing includes negative testing to confirm that the correct errors are returned when incorrect parameters are provided. The tests are automated and do not require user intervention. </p> </section> <section><title>Coverage omissions</title> <p>None. </p> </section> <section><title>Test suite details</title> <p><b>Test script source tree location </b> </p> <p>Descriptions of the test cases can be found in the test scripts in the following locations: </p> <ul><li id="GUID-180F15F1-54E2-5C1E-AA6E-E55B9A94870F"><p> <filepath>...\graphics\graphicsapitest\bitgdi\scripts\GRAPHICS-BITGDI-PolygonFiller-PublicApi.script</filepath> </p> </li> <li id="GUID-73FEA051-6CF0-5F6E-9525-1E3174A0F363"><p> <filepath>...\graphics\graphicsapitest\bitgdi\scripts\GRAPHICS-BITGDI-FbsDevice-PublicApi.script</filepath> </p> </li> <li id="GUID-D124D901-F4FC-5E7A-8DDD-89E066666E12"><p> <filepath>...\graphics\graphicsapitest\bitgdi\scripts\GRAPHICS-BITGDI-FbsScreenDevice-PublicApi.script</filepath> </p> </li> <li id="GUID-9F72CF51-7B05-5327-B449-6B0E83A604E7"><p> <filepath>...\graphics\graphicsapitest\bitgdi\scripts\GRAPHICS-BITGDI-FbsBitmapDevice-PublicApi.script</filepath> </p> </li> <li id="GUID-FFD3BE4F-A2F5-511C-BE03-6300E1408BED"><p> <filepath>...\graphics\graphicsapitest\bitgdi\scripts\GRAPHICS-BITGDI-PublicApi.script</filepath> </p> </li> <li id="GUID-E1465F15-6EF2-5FA9-8FE7-1924174558DA"><p> <filepath>...\graphics\graphicsapitest\bitgdi\scripts\GRAPHICS-BITGDI-FbsBitGc-PublicApi.script</filepath> </p> </li> <li id="GUID-658F6BC8-3F63-5D08-9D1B-12B6C6349703"><p> <filepath>...\graphics\graphicsapitest\bitgdi\scripts\GRAPHICS-BITGDI-FbsBitGcFont-PublicApi.script</filepath> </p> </li> <li id="GUID-9249123E-1046-581D-B403-A3D35787FF9B"><p> <filepath>...\graphics\graphicsapitest\bitgdi\scripts\GRAPHICS-BITGDI-FbsBitGcBitmap-PublicApi.script</filepath> </p> </li> </ul> <p><b>Test script EPOC tree location </b> </p> <p>When the tests are built for emulator or hardware (winscw/armv5), the scripts are exported to the following location: </p> <p> <filepath>%EPOCROOT%\epoc32\data\Z\graphics\</filepath>  </p> <p><b>Test script build location </b> </p> <p>When the tests are built, the scripts are built into the following location: </p> <p> <filepath>%EPOCROOT%\epoc32\release\&lt;winscw|armv5&gt;\&lt;udeb|urel&gt;\Z\graphics</filepath> </p> <p> <b>Note:</b> When the tests are built to be executed on hardware, the files are built into the z: drive of the ROM. </p> <p><b>Test data source tree location </b> </p> <p>The test suite contains the following test data files: </p> <ul><li id="GUID-AD924E78-470E-5891-B284-6D8E4D173E7A"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\GRAPHICS-BITGDI-PolygonFiller-PublicApi.ini</filepath> </p> </li> <li id="GUID-E9E23D06-C4E6-5CC6-B8E7-71A14E162FED"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\GRAPHICS-BITGDI-FbsDevice-PublicApi.ini</filepath> </p> </li> <li id="GUID-933F894D-D99A-5089-B12D-A49169899470"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\GRAPHICS-BITGDI-FbsScreenDevice-PublicApi.ini</filepath> </p> </li> <li id="GUID-619985BC-0DFD-58DE-88EC-E5CAD7BE0802"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\GRAPHICS-BITGDI
                -FbsBitmapDevice-PublicApi.ini</filepath>  </p> </li> <li id="GUID-BD6AA731-36AF-5252-A5BF-49CB37BF5704"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\GRAPHICS-BITGDI-FbsBitGc-PublicApi.ini</filepath> </p> </li> <li id="GUID-BCCF97F1-3A4A-5EDB-8AAF-B66ECB989989"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\GRAPHICS-BITGDI-FbsBitGc-PublicApi-2.ini</filepath> </p> </li> <li id="GUID-10AE8935-EEEE-5703-ACF0-C29810F4D235"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\GRAPHICS-BITGDI-FbsBitGc-PublicApi-3.ini</filepath> </p> </li> <li id="GUID-5F1F6B02-70D3-5B2C-9846-C8EDF0083DE4"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\GRAPHICS-BITGDI-FbsBitGcFont-PublicApi.ini</filepath> </p> </li> <li id="GUID-A44D6BBE-4F3F-5E02-BB7E-D8F47C58E9FF"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\GRAPHICS-BITGDI-FbsBitGcBitmap-PublicApi.ini</filepath> </p> </li> <li id="GUID-E2C112E6-69AC-59E1-9FDD-E1AB46F05FD6"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\bitgdi\testdata\test_rwssprite_bitmap.mbm</filepath> </p> </li> </ul> <p>The global environment file is located in the following location: </p> <p> <filepath>...\graphics\graphicsapitest\graphicssvs\testdata\&lt;platform&gt;\t_graphics.ini</filepath> </p> <p>Where <codeph>&lt;platform&gt;</codeph> can be <codeph>armv5</codeph> or <codeph>winscw</codeph>. </p> <p><b>Test data files EPOC tree location </b> </p> <p>When the tests are built for the emulator or hardware (winscw or armv5), the data files are exported to the following location: </p> <p> <filepath>%EPOCROOT%\epoc32\data\Z\graphics\</filepath>  </p> <p>The global environment file, <filepath>t_graphics.ini</filepath> is located in the following location: </p> <p> <filepath>%EPOCROOT%\epoc32\data\Z\graphics\&lt;platform&gt;\</filepath>  </p> <p>Where <codeph>&lt;platform&gt;</codeph> can be <codeph>armv5</codeph> or <codeph>winscw</codeph>. </p> <p><b>Test data files emulator location </b> </p> <p>When the tests are built, the test data (<filepath>.ini</filepath>) files (with the exception of the global environment file,<filepath> t_graphics.ini</filepath>) are built into the following location: </p> <p> <filepath>%EPOCROOT%\epoc32\release\&lt;platform&gt;\&lt;udeb/urel&gt;\Z\graphics\</filepath> </p> <p>The global environment file, <filepath>t_graphics.ini</filepath>, is built in the following location: </p> <p> <filepath>%EPOCROOT%\epoc32\release\&lt;platform&gt;\&lt;udeb/urel&gt;\Z\graphics\&lt;platform&gt;</filepath> </p> <p>Where <codeph>&lt;platform&gt;</codeph> can be <codeph>armv5</codeph> or <codeph>winscw</codeph>. </p> <p> <b>Note: </b> When the tests are built to be executed on hardware the files are built into the z: drive of the ROM. </p> <p><b>Test .driver file </b> </p> <p>The <filepath>graphics.driver</filepath> file can be found in the following path: </p> <p> <filepath>...\graphics\graphicsapitest\graphicssvs\testsuites\graphics\</filepath> </p> <p>It is used by TestDriver to construct the test suite tree structure and export all the appropriate files to the correct location in the <codeph>epoc32</codeph> tree and on the device. </p> <p>When the tests are built, the <filepath>.driver</filepath> file can be found in the following location: </p> <p> <filepath>%EPOCROOT%\epoc32\testdriver\testproduct</filepath>  </p> <p><b>TCS files source tree location </b> </p> <p>The <filepath>.tcs</filepath> files can be found in the following location: </p> <ul><li id="GUID-86CDA628-82A4-5DDA-9E35-72416D7C1FE5"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\config\t_graphics.tcs</filepath> </p> </li> <li id="GUID-9143D935-3219-58BD-BC6C-72BC0B91E08D"><p> <filepath>...\graphics\graphicsapitest\graphicssvs\config\t_graphics_panic.tcs</filepath> </p> </li> </ul> <p><b>TCS files build location </b> </p> <p>When the tests are built, the scripts are generated in the following location: </p> <p> <filepath>%EPOCROOT%\epoc32\release\&lt;winscw|armv5&gt;\&lt;udeb|urel&gt;\Z\graphics</filepath> </p> <p> <b>Note:</b> When the tests are built to be executed on hardware, the files are built into the z: drive of the ROM. </p> </section> <section><title>Test environment and execution</title> <p>For information about the test environment and execution procedure, see <xref href="GUID-548CEA7C-20BA-5C8E-9971-134AD518CA22.dita">Graphics Test Technology</xref>. </p> <p><b>Excluding panicking test cases </b> </p> <p>Some of the negative test cases, which check for panic codes, cause other positive test cases to fail. Therefore, these test cases are excluded from normal execution by specifying the test case IDs in the <filepath>t_graphics_panic.tcs</filepath> file. </p> <p>When using test driver to execute the test suite: </p> <ul><li id="GUID-0BF4E477-88A9-52B0-879F-72F191E3F5FB"><p> <codeph>graphics.panicless.bitgdi</codeph> executes the specified suite excluding the listed test cases </p> </li> <li id="GUID-8105E406-54B8-5D98-A152-64702F92A4DA"><p> <codeph>graphics.panic.bitgdi</codeph> executes the tests that panic. </p> </li> </ul> <p>When executing the tests manually, the following test execute command illustrates the usage of the <filepath>.tcs</filepath> file: </p> <p><userinput>testexecute %EPOCROOT%\epoc32\release\winscw\&lt;urel/udeb&gt;\&lt;test suite name&gt;.script –[tcx|tci] %EPOCROOT%\epoc32\release\winscw\&lt;urel/udeb&gt;\&lt; t_graphics.tcs|t_graphics_panic.tcs&gt;.tcs</userinput> </p> <p>The <codeph>-tcx</codeph> switch is used to execute all the tests in the specified script excluding the test cases specified in the <filepath>.tcs</filepath> file. While the <codeph>–tci </codeph> switch is used to execute only the tests specified in the <filepath>.tcs</filepath> file from the specified script. For more information, see <xref href="GUID-548CEA7C-20BA-5C8E-9971-134AD518CA22.dita">Graphics Test Technology</xref>. </p> </section> </conbody><related-links><link href="GUID-548CEA7C-20BA-5C8E-9971-134AD518CA22.dita"><linktext>Graphics Test Technology</linktext> </link> </related-links></concept>