<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2007-2010 Nokia Corporation and/or its subsidiary(-ies) All rights reserved. -->
<!-- This component and the accompanying materials are made available under the terms of the License 
"Eclipse Public License v1.0" which accompanies this distribution, 
and is available at the URL "http://www.eclipse.org/legal/epl-v10.html". -->
<!-- Initial Contributors:
    Nokia Corporation - initial contribution.
Contributors: 
-->
<!DOCTYPE reference
  PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference xml:lang="en" id="GUID-4D55E43C-B203-5145-9105-D75660D02E3B"><title>Reference</title><shortdesc>This topic provides a summary of documents related to Network Performance Testing that you can refer. </shortdesc><prolog><metadata><keywords/></metadata></prolog><refbody><section><p>The following table explains the special tags and its equivalent parameter in master script configuration. </p> </section> <table id="GUID-B4C996B7-EC00-5BEB-8CC1-4FBEBB0C67DC"><tgroup cols="2"><colspec colname="col0"/><colspec colname="col1"/><thead><row><entry> Tag name </entry> <entry> Parameter equivalent in master script configuration </entry> </row> </thead> <tbody><row><entry><p> <codeph>====IPADDR====</codeph>  </p> </entry> <entry><p>[DeviceUnderTest].TestBearerIP </p> </entry> </row> <row><entry><p> <codeph>====IPGATEWAY====</codeph>  </p> </entry> <entry><p>[DeviceUnderTest].TestBearerGateway </p> </entry> </row> <row><entry><p> <codeph>====IPNETMASK====</codeph>  </p> </entry> <entry><p>Subnet mask is assumed from: [DeviceUnderTest].TestBearerIP </p> <p>This can be specified in <xref scope="external" href="http://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDR</xref> format. For example, <codeph>10.16.83.2/24</codeph>. If omitted the default is 24 bits. </p> </entry> </row> <row><entry><p> <codeph>====ETHERPDDFILENAME==== ====ETHERPDDNAME====</codeph>  </p> </entry> <entry><p>Replaced by the appropriate driver names depending on the chosen target. </p> <p> <b>Note:</b> This is called <i>Ethernet</i> because it only supports the Ethernet bearer for emulator and dev boards. Other bearers would have to be hard coded into the <i>Communications Database</i> configuration file. </p> </entry> </row> </tbody> </tgroup> </table> <section id="GUID-41A516EA-925B-53C6-9EA1-2A2E213B549A"><title>TestControllerPC</title> <p>This section specifies information about the <i>TestControllerPC</i> that sets up and drive the performance test. </p> <table id="GUID-06103AA6-B456-54C0-9E20-9AED0DCA1B2F"><tgroup cols="3"><colspec colname="col0"/><colspec colname="col1"/><colspec colname="col2"/><tbody><row><entry><p> <b>Parameter</b>  </p> </entry> <entry><p> <b>Default</b>  </p> </entry> <entry><p> <b>Description</b>  </p> </entry> </row> <row><entry><p> <codeph>Method</codeph>  </p> </entry> <entry><p>none- must be specified </p> </entry> <entry><p>For fully-automatic mode (driven from <i>Testdriver</i> on the PC) set this parameter to "<codeph>Testdriver</codeph> ". For semi-automatic mode (driven from device by test scripts generated by <i>NetPerf</i>) set this parameter to "<codeph>CopyTestScripts</codeph> " </p> </entry> </row> <row><entry><p> <codeph>TestBearerIP</codeph>  </p> </entry> <entry><p>none- must be specified </p> </entry> <entry><p>The <i>TestControllerPC</i> IP address. This is the address that the <i>Device Under Test</i> uses to send and receive data. If the <i>TestControllerPC</i> has a separate network interface used for control, make sure that this IP address is on the network interface used for the test bearer, not the control interface. </p> </entry> </row> <row><entry><p> <codeph>ControlIP</codeph>  </p> </entry> <entry><p>none- must be specified </p> </entry> <entry><p>This parameter is the <i>TestControllerPC</i> IP address on the network interface used for control. If it is acceptable to share the Bearer used for testing then the value of this parameter should match the <codeph>TestBearerIP</codeph> above. </p> </entry> </row> <row><entry><p> <codeph>ControlPort</codeph>  </p> </entry> <entry><p> <codeph> 1683 </codeph>  </p> </entry> <entry><p>The TCP port of the <i>UCC</i> service running on the <i>TestControllerPC</i>. This should only be changed to a different value if another device or application is using the default <codeph>1683</codeph> port. </p> </entry> </row> <row><entry><p> <codeph>DestinationForSetupData</codeph>  </p> </entry> <entry><p> <codeph> netperf_[target]_setup</codeph>  </p> <p> <codeph>[target]</codeph> is the emulator/devboard/device </p> </entry> <entry><p>This parameter is the path where <i>NetPerf</i> should write the setup data. </p> <p>The setup data comprises: </p> <ul><li id="GUID-5AFAD054-38CC-57B4-B713-6C2C7AD348C9"><p>The Communications database, if specified below </p> </li> <li id="GUID-61F18D88-8729-57E7-8E09-FB1C472FAF09"><p>The <i>STAT</i>  <codeph>.ini</codeph> file, if the tests are running in fully-automatic mode </p> </li> <li id="GUID-CDEDACEE-D07A-5D1B-8C4F-1B707A2EC1AA"><p>test configurations and scripts, if tests are running in semi-automatic mode </p> </li> <li id="GUID-745E5272-C8B5-5BA0-8DF7-298BDD5AAA9E"><p>a script to install/run the above. </p> </li> </ul> <p>For example, to run performance tests on a dev board this is likely to be a card reader, for example <codeph> F:\</codeph>. Ensure a card is inserted in the card reader before running the script. </p> <p>When running performance tests on an emulator, this is set to the <codeph>C:</codeph> drive of the emulator on the local or remote PC. For example <codeph>\epoc32\winscw\c </codeph> or <codeph>\\some_host\shared_epoc32\winscw\c</codeph>). </p> <p>If the default <codeph>netperf_[target]_setup</codeph> is used, you must copy the files from the location specified on the <i>Test Controller PC</i> to the <i>Device Under Test</i> before running the tests. </p> </entry> </row> <row><entry><p> <codeph>RunServices</codeph>  </p> </entry> <entry><p> <codeph>yes</codeph>  </p> </entry> <entry><p>This parameter tells the script to start the <i>Test Monitor PC</i> services <i>UCC</i> and <i>exeservice</i>, and to shut them down at the end. Set this to "<codeph>no</codeph> " if the<i>UCC</i> and <i>exeservice</i> are started before this script starts. </p> </entry> </row> <row><entry><p> <codeph>Cert</codeph>  </p> </entry> <entry><p>n/a </p> </entry> <entry><p>n/a </p> </entry> </row> <row><entry><p> <codeph>Key</codeph>  </p> </entry> <entry><p>n/a </p> </entry> <entry><p>n/a </p> </entry> </row> <row><entry><p> <codeph>PassOpts</codeph>  </p> </entry> <entry><p>n/a </p> </entry> <entry><p>n/a </p> </entry> </row> </tbody> </tgroup> </table> </section> <section id="GUID-390D2ACA-5D0A-56A9-89EA-32E5932B6920"><title>Device Under Test</title> <p>This section explains the <i>DUT</i> parameters and its description. </p> <table id="GUID-2DB185B9-8C97-541E-B7D8-B63A8979E740"><tgroup cols="3"><colspec colname="col0"/><colspec colname="col1"/><colspec colname="col2"/><tbody><row><entry><p> <b>Parameter</b>  </p> </entry> <entry><p> <b>Default</b>  </p> </entry> <entry><p> <b>Description</b>  </p> </entry> </row> <row><entry><p> <codeph>TestBearerIP</codeph>  </p> </entry> <entry><p>none- must be specified </p> </entry> <entry><p>This parameter is the address on the test bearer of the <i>DeviceUnderTest</i>. This is the address that the PC-side performance tool sends data to and receives data from. <i>iperf</i> is an example of a PC-side performance tool. </p> </entry> </row> <row><entry><p> <codeph>TestBearerIAP</codeph>  </p> <p> <codeph>TestBearerSNAP</codeph>  </p> </entry> <entry><p> <codeph>0</codeph>  </p> </entry> <entry><p>The connection of the test bearer on the <i>DeviceUnderTest</i>. This is the connection that the <i>DeviceUnderTest</i> performance library attaches to before sending data to and receiving data from the [<i>Test Controller PC</i>].<codeph>TestBearerIP</codeph>  </p> <p>This parameter contains either an IAP number or a SNAP number. This parameter defaults to <codeph>0</codeph> which means use the "default connection" specified in the Communications database. </p> </entry> </row> <row><entry><p> <codeph>TestBearerGateway</codeph>  </p> </entry> <entry><p> <codeph> &lt;network address&gt;.1 </codeph>  </p> </entry> <entry><p>The address of the gateway on the test bearer. This value is placed in the generated <i>DeviceUnderTest</i> Communications database to specify a static network interface. </p> </entry> </row> <row><entry><p> <codeph>ControlIP</codeph>  </p> </entry> <entry><p>none- must be specified </p> </entry> <entry><p>The IP address of the <i>DeviceUnderTest</i>, which the <i>Test Controller PC</i> contacts to run tests using <i>testdriver</i> /<i>STAT</i>. If control is sent over the same connection as data, use the same value for this parameter as for <codeph>TestBearerIP</codeph>. </p> </entry> </row> <row><entry><p> <codeph>ControlIAP</codeph>  </p> <p> <codeph>ControlSNAP</codeph>  </p> </entry> <entry><p> <codeph>0</codeph>  </p> </entry> <entry><p>The connection of the control link on the <i>DeviceUnderTest</i>. <i>UCC</i> attaches to this connection before sending control calls to the [<i>Test Controller PC</i>].<codeph>ControlIP</codeph>. In <i>TestDriver</i> mode, <i>STAT</i> also runs on this connection. </p> <p>This parameter is contains either an IAP number or a SNAP number. This parameter defaults to <codeph>0</codeph> which means use the "default connection" from the Communications database. </p> </entry> </row> <row><entry><p> <codeph>ControlPort</codeph>  </p> </entry> <entry><p> <codeph>3000</codeph>  </p> </entry> <entry><p>The TCP/IP port on the <i>DeviceUnderTest</i> where <i>STAT</i> is listening. This should only be changed to a different value if another device or application is using the default <codeph>3000</codeph> port. </p> </entry> </row> <row><entry><p> <codeph>CpuMeterThreadPriority</codeph>  </p> </entry> <entry><p> <codeph>100</codeph>  </p> </entry> <entry><p>This parameter sets the thread priority of the idle loop which is used to measure available CPU cycles during performance tests. It does this by counting the number of cycles used by the idle loop over time. </p> <p>If the CPU measurements are not recorded, this parameter is set too low. If the test system runs slowly or comes to a halt, it is a sign that this parameter is set too high. Depending on the system scheduler or the exact test environment it may be necessary to adjust this value. </p> <p>See <codeph>TThreadPriority</codeph> in <codeph>%EPOCROOT%epoc32/include/e32const.h</codeph> for possible values. Defaults to <codeph>100</codeph> (<codeph>EPriorityAbsoluteVeryLow</codeph>) </p> </entry> </row> <row><entry><p> <codeph>RunSamplingProfiler</codeph>  </p> </entry> <entry><p> <codeph>false</codeph>  </p> </entry> <entry><p>This parameter determines whether to run the sampling profiler, and retrieve its results for each test. The profiler must be present on the device for this to work, for example, by including <codeph>profiler.iby</codeph> when building the ROM. </p> <p>The default value is <codeph>false</codeph> because running the sampling profiler applies a small processing overhead. </p> </entry> </row> <row><entry><p> <codeph>Platform</codeph>  </p> <p> <codeph>BuildVariant</codeph>  </p> </entry> <entry><p> <codeph>armv5</codeph>  </p> <p> <codeph>urel</codeph>  </p> </entry> <entry><p>These parameters are the Platform and Variant of the software sent to the <i>DeviceUnderTest</i>. </p> <p>For accurate performance measurement on target devices, omit these fields. The default values <codeph>armv5</codeph> and <codeph>urel</codeph> will be used. </p> <p> <b> Note:</b>  <codeph>udeb</codeph> can be specified here, but it is a lot slower due to the logging calls. Therefore the use <codeph>udeb</codeph> is not recommended for reliable performance measurements. <codeph>udeb</codeph> should only be used for debugging scripts. </p> <p> <i>winscw</i> with <i>TestDriver</i> is not a valid platform and variant because <i>TestDriver</i> tries to start the emulator locally, which is on the <i>Test Controller PC</i>. <i>TestDriver</i> also runs the test software on the <i>TestControllerPC</i> and this software, in particular <i>iperf</i>, conflicts with the software that needs to run on the <i>DeviceUnderTest</i>. </p> <p>It is not possible to use <i>TestDriver</i> with a remote emulator because <i>TestDriver</i> will try to start the emulator on the <i>TestControllerPC</i>, and communicate over a <i>TAP</i> device. Therefore <i>winscw</i> can only be used if the [<i>TestControllerPC</i>]<codeph>.Method</codeph> is "<codeph>CopyTestScriptsTo
                  ...</codeph> " </p> </entry> </row> <row><entry><p> <codeph>CommsdatTemplate</codeph>  </p> </entry> <entry><p>n/a </p> </entry> <entry><p>If required. See <xref href="GUID-C2125B4A-A945-529C-AA2F-BDD00EADF489.dita">Configuring the Communications Database</xref>. </p> </entry> </row> <row><entry><p> <codeph>LocationForSetupData</codeph>  </p> </entry> <entry><p> <codeph> C:\</codeph>  </p> </entry> <entry><p>The location of the setup data on the <i>DeviceUnderTest</i>. For example the drive of a card reader for a dev board, or the <codeph>C:</codeph> drive for either an emulator or a device with no card reader. If the data is being copied manually (either from a card or via FTP) then this parameter must specify where that data can be found. </p> </entry> </row> </tbody> </tgroup> </table> </section> <section><title>ROM Image</title> <p>This is a template for building a ROM image where the values shown in <b>[square brackets]</b> must be set as follows: </p> <p> <b>[macros]</b>  </p> <table id="GUID-7F979C99-E20C-5287-AD5A-EE900335A80B"><tgroup cols="2"><colspec colname="col0"/><colspec colname="col1"/><tbody><row><entry><p> <b>Macro</b>  </p> </entry> <entry><p> <b>Note</b>  </p> </entry> </row> <row><entry><p>-D_SERIAL_DOWNLOAD </p> </entry> <entry><p>Allows loading ROM image onto a development board across a serial link or from a CF card. </p> </entry> </row> <row><entry><p>-D_STARTUPMODE1 </p> </entry> <entry><p>Text shell only </p> </entry> </row> <row><entry><p>-D_CUSTOM_COMMSDAT </p> </entry> <entry><p>Use customized <i>Communications Database</i>  </p> </entry> </row> <row><entry><p>-D_DEBUG </p> </entry> <entry><p>Select debug versions of some files </p> </entry> </row> <row><entry><p>FULL DEBUG </p> </entry> <entry><p>Select debug versions of all files </p> </entry> </row> <row><entry><p>-DEXCLUDE_JAVA </p> </entry> <entry><p>Exclude Java from ROM image </p> </entry> </row> <row><entry><p>-DUSE_STRONG_CRYPTOGRAPHY </p> </entry> <entry><p>Includes strong <i>cryptography.dll</i> library into ROM </p> </entry> </row> </tbody> </tgroup> </table> <p> <b>[feature manager options]</b>  </p> <p> <i>Feature manager</i> is available for Symbian OS v9.5 or higher. It is recommended that it is switched off with option <codeph>-nofm</codeph>. If the <i>NetPerf</i> test is for Symbian OS v9.4 or earlier then leave this option empty. </p> <p> <b>[target device]</b>  </p> <p>To build a development board ROM, specify the type of development board. For an H2 development board, use <codeph>h2</codeph>, and for an H4 development board, use <codeph>h4hrp</codeph>. </p> <p> <b>[components list]</b>  </p> <p>Components to be included into ROM image: </p> <table id="GUID-EEA89BBC-A8E9-5767-91B9-7614EE6F68D5"><tgroup cols="4"><colspec colname="col0"/><colspec colname="col1"/><colspec colname="col2"/><colspec colname="col3"/><tbody><row><entry><p> <b>Oby/iby files</b>  </p> </entry> <entry><p> <b>Required for test type </b>  </p> <p> <b>Automated</b>  </p> </entry> <entry><p> <b>Required for test type </b>  </p> <p> <b>Semi-automated</b>  </p> </entry> <entry><p> <b>Note</b>  </p> </entry> </row> <row><entry><p>techview.oby </p> </entry> <entry><p>yes </p> </entry> <entry><p>yes </p> </entry> <entry><p>TechView user interface component </p> </entry> </row> <row><entry><p>PlatSec.oby </p> </entry> <entry><p>yes </p> </entry> <entry><p>yes </p> </entry> <entry><p>Enables platform security on a board </p> </entry> </row> <row><entry><p>NoWatcher.iby </p> </entry> <entry><p>yes </p> </entry> <entry><p>yes </p> </entry> <entry><p>Disables running TechView watchers </p> </entry> </row> <row><entry><p>statauto.iby </p> </entry> <entry><p>yes </p> </entry> <entry><p>no </p> </entry> <entry><p>STAT component </p> </entry> </row> <row><entry><p>netperfdelayplugin.iby </p> </entry> <entry><p>yes </p> </entry> <entry><p>no </p> </entry> <entry><p>NetPerf delaymeter plugin and is available only for Symbian OS 9.5 or higher </p> </entry> </row> <row><entry><p>nerperf.iby </p> </entry> <entry><p>no </p> </entry> <entry><p>yes </p> </entry> <entry><p>NetPerf test suite (includes netperfdelayplugin.iby file) </p> </entry> </row> <row><entry><p>testexecute.iby </p> </entry> <entry><p>optional </p> </entry> <entry><p>yes </p> </entry> <entry><p>TestExecute Framework (TEF) </p> </entry> </row> <row><entry><p>ucc.iby </p> </entry> <entry><p>no </p> </entry> <entry><p>yes </p> </entry> <entry><p>User case controller component </p> </entry> </row> <row><entry><p>ether802.iby </p> </entry> <entry><p>yes </p> </entry> <entry><p>yes </p> </entry> <entry><p>Ethernet driver for devboard </p> </entry> </row> <row><entry><p>profiler.iby </p> </entry> <entry><p>optional </p> </entry> <entry><p>optional </p> </entry> <entry><p>Only include to measure on-target profiling data </p> </entry> </row> <row><entry><p>ced.iby </p> </entry> <entry><p>yes </p> </entry> <entry><p>yes </p> </entry> <entry><p> <i>Communications Database</i> editor </p> </entry> </row> <row><entry><p>ceddump.iby </p> </entry> <entry><p>optional </p> </entry> <entry><p>optional </p> </entry> <entry><p>Exports <i>Communications Database</i> configuration to a file. </p> </entry> </row> <row><entry><p>ping.iby </p> </entry> <entry><p>optional </p> </entry> <entry><p>optional </p> </entry> <entry><p>Ping utility </p> </entry> </row> <row><entry><p>ipconfig.iby </p> </entry> <entry><p>optional </p> </entry> <entry><p>optional </p> </entry> <entry><p>ipconfig utility </p> </entry> </row> </tbody> </tgroup> </table> <p> <b>Note:</b> On the command line specify the <codeph>.oby</codeph> component names first and then the <codeph>.iby</codeph>. </p> <p> <b>[card drive]</b>  </p> <p>Specifies the drive where a flash card is mounted, for example <codeph>d:</codeph>  </p> </section> </refbody></reference>