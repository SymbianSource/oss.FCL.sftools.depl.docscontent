<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2007-2010 Nokia Corporation and/or its subsidiary(-ies) All rights reserved. -->
<!-- This component and the accompanying materials are made available under the terms of the License 
"Eclipse Public License v1.0" which accompanies this distribution, 
and is available at the URL "http://www.eclipse.org/legal/epl-v10.html". -->
<!-- Initial Contributors:
    Nokia Corporation - initial contribution.
Contributors: 
-->
<!DOCTYPE concept
  PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept xml:lang="en" id="GUID-18D7228F-A1E5-594A-B654-EF5D74CE17D2"><title>Recording Video Data</title><prolog><metadata><keywords/></metadata></prolog><conbody><p>This tutorial describes how to record video data. </p> <section><title>Purpose</title> <p>The purpose of this tutorial is to show you how to use the video recorder to control video recording. </p> <p><b>Required Background</b> </p> <p>The <xref href="GUID-2DC80BA9-7AA2-5CD3-9105-1DE28CE196C1.dita">Video Client Overview</xref> introduces the video client utilities. </p> <p><b>Introduction</b> </p> <p>The video recorder utility is used to record video clips to files, descriptors or URLs and manipulate embedded meta data. This functionality is implemented by the <xref href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.dita"><apiname>CVideoRecorderUtility</apiname></xref> class. </p> <p>The sequence diagram below explains the different functionalities of the video recorder utility: </p> <fig id="GUID-ADEA2E56-8601-55C2-9887-C35B366C3C87"><title>
                Video recorder sequence diagram 
             </title> <image href="GUID-C5DDFD3F-7778-56D6-A10B-741959206C5F_d0e529834_href.png" placement="inline"/></fig> </section> <section><title>Using Video Recording </title> <p>The following tasks will be covered in this tutorial: </p> <ul><li id="GUID-120128C4-C7E9-5DD6-84CA-7798CCE7AB01"><p><xref href="GUID-18D7228F-A1E5-594A-B654-EF5D74CE17D2.dita#GUID-18D7228F-A1E5-594A-B654-EF5D74CE17D2/GUID-5378C592-9E29-554C-A4CB-90A9D8210239"> Record Video Data</xref>  </p> </li> </ul> <p id="GUID-5378C592-9E29-554C-A4CB-90A9D8210239"><b>Basic Procedure</b> </p> <p>The high level steps to record video data are shown here: </p> <ol id="GUID-B0CCE7C7-7428-5198-A5AD-BDB45D73D19D"><li id="GUID-5A3C0168-F27E-5136-B1EC-635827F51A80"><p>If you are using an audio clip, the recording gain must be set using the <xref href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.dita#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D/GUID-411D9EF8-93AA-3BC6-85CF-38BFF142D379"><apiname>CVideoRecorderUtility::SetGainL()</apiname></xref> function before recording because the initial gain is undefined or may also have been modified by another client application. </p> </li> <li id="GUID-93560BD5-6FAD-5939-9C7B-9FBE5E22F4F8"><p>The specific functions to record and perform related tasks are as follows: </p> <ul><li id="GUID-A2E04F54-BE9C-5AC8-A2C3-A8421E03E829"><p>To start recording video data to the specified file, descriptor or URL, use the <xref href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.dita#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D/GUID-0336E439-275D-3766-9840-37F4C8218F5A"><apiname>CVideoRecorderUtility::Record()</apiname></xref> function. </p> <codeblock id="GUID-A5C5F5F6-5137-5742-ADF6-E99DC00A9FCC" xml:space="preserve">void CRecordVideo::Record()
    {
    iVideoRecordUtility-&gt;Record();
    }</codeblock> </li> <li id="GUID-1B3162D7-A0A6-5556-B81B-21BE3AB21F1C"><p>To pause recording, use the <xref href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.dita#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D/GUID-394D2DB5-7545-390B-8CB8-C321EA897298"><apiname>CVideoRecorderUtility::PauseL()</apiname></xref> function. The position within the video clip is maintained in case a subsequent <xref href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.dita#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D/GUID-0336E439-275D-3766-9840-37F4C8218F5A"><apiname>CVideoRecorderUtility::Record()</apiname></xref> is called. </p> <codeblock id="GUID-1D3CFFBF-8040-534A-B878-AAE2F29A70EC" xml:space="preserve">void CRecordVideo::PauseL()
    {
    iVideoRecordUtility-&gt;PauseL();
    }</codeblock> </li> <li id="GUID-CA27950D-7E70-5947-9067-ADFFECE08DD0"><p>To stop recording, use the <xref href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.dita#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D/GUID-BAD9B7BB-94E5-3584-9B59-E4FB92206FF7"><apiname>CVideoRecorderUtility::Stop()</apiname></xref> function. If the video format supports audio tracks and if audio is enabled, this function also stops recording the audio data. </p> <codeblock id="GUID-2CC808B5-7A0C-5886-ABCC-76D8E30AFCFA" xml:space="preserve">TInt CRecordVideo::Stop()
    {
    TInt err = iVideoRecordUtility-&gt;Stop();
    return err;
    }</codeblock> </li> <li id="GUID-3673BD16-3AE1-591B-B8A8-0C8BB6F4BDFC"><p>To close all related video and audio controllers, use the <xref href="GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D.dita#GUID-8A183C79-0EA4-3A4A-B95F-E2F1BF74238D/GUID-8572BA1E-9EFA-30F3-B7A0-6E750E94F846"><apiname>CVideoRecorderUtility::Close()</apiname></xref> function. </p> <codeblock id="GUID-0F8E11A0-50A4-5614-B08E-30AEB6CF7538" xml:space="preserve">void  CRecordVideo::Close()
    {
    iVideoRecordUtility-&gt;Close();
    }</codeblock> </li> </ul> </li> </ol> </section> <section><title>See Also</title> <p><xref href="GUID-688C515E-3D1B-51BB-A776-A246FA232061.dita">Creating and Preparing a Video Recorder</xref>  </p> <p><xref href="GUID-3B250C0E-5D53-53ED-A02C-16FE8EAEDF86.dita">Configuring the Video Recorder</xref>  </p> <p><xref href="GUID-ED700A4A-3BBF-5048-92CB-E3677A0FD09F.dita">Enabling/Disabling Video Recording</xref>  </p> <p><xref href="GUID-C08BBBAD-3605-53E3-A94F-ECCFFB80E1DD.dita">Controlling Video Recording Quality</xref>  </p> <p><xref href="GUID-2D20B6DF-BE02-50CF-8E9F-14E3402EF952.dita">Setting Video Metadata</xref>  </p> <p><xref href="GUID-44EDB476-33E2-5D91-8CC2-A04369AACCA4.dita">Controlling the Video Plugin</xref>  </p> </section> </conbody></concept>