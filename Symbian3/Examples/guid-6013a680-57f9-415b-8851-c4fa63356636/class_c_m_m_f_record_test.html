<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>TB10.1 Example Applications: CMMFRecordTest Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<h1>CMMFRecordTest Class Reference</h1><!-- doxytag: class="CMMFRecordTest" -->
<p>
<a href="class_c_m_m_f_record_test-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="83fee589eb410961d580b3e19931c43f"></a><!-- doxytag: member="CMMFRecordTest::~CMMFRecordTest" ref="83fee589eb410961d580b3e19931c43f" args="()" -->
virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_m_f_record_test.html#83fee589eb410961d580b3e19931c43f">~CMMFRecordTest</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="373448249ca3b5b645b915cab1f2ca46"></a><!-- doxytag: member="CMMFRecordTest::Go" ref="373448249ca3b5b645b915cab1f2ca46" args="()" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_m_f_record_test.html#373448249ca3b5b645b915cab1f2ca46">Go</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_m_f_record_test.html#7d51322057936bba891cc6f375671e80">MoscoStateChangeEvent</a> (CBase *aObject, TInt aPreviousState, TInt aCurrentState, TInt aErrorCode)</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="223fa583d02e766942f59002ac21646c"></a><!-- doxytag: member="CMMFRecordTest::NewLC" ref="223fa583d02e766942f59002ac21646c" args="()" -->
static <a class="el" href="class_c_m_m_f_record_test.html">CMMFRecordTest</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_c_m_m_f_record_test.html#223fa583d02e766942f59002ac21646c">NewLC</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
This class implements a state machine that records a short clip using each format that the system supports. For each record format that the system supports, it will record 2s of audio to a file, then 2s of audio into a descriptor. It will then move onto the next format.<p>
It is necessary to implement this as a state machine as we get asynchronous callbacks via MoscoStateChangeEvent which we have to wait for before we can continue to the next step.<p>
For each record format, we go through these states in order: 1. EInitFile - while the file recording is initialised 2. (after the MoscoStateChangeEvent callback) ERecordFile - on a 2s timer while recording takes place 3. EDoOpenDesc - while recording into a descriptor is initialised 4. (after the MoscoStateChangeEvent callback) ERecordDesc - again on a 2s timer.<p>
The logic implemented here is probably somewhat more complex that would be necessary for any normal recording, but it demonstrates the principal of how to use the recording API. 
<p>Definition at line <a class="el" href="mmfrec_8h-source.html#l00041">41</a> of file <a class="el" href="mmfrec_8h-source.html">mmfrec.h</a>.</p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="7d51322057936bba891cc6f375671e80"></a><!-- doxytag: member="CMMFRecordTest::MoscoStateChangeEvent" ref="7d51322057936bba891cc6f375671e80" args="(CBase *aObject, TInt aPreviousState, TInt aCurrentState, TInt aErrorCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMMFRecordTest::MoscoStateChangeEvent           </td>
          <td>(</td>
          <td class="paramtype">CBase *&nbsp;</td>
          <td class="paramname"> <em>aObject</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TInt&nbsp;</td>
          <td class="paramname"> <em>aPreviousState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TInt&nbsp;</td>
          <td class="paramname"> <em>aCurrentState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TInt&nbsp;</td>
          <td class="paramname"> <em>aErrorCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is called by the recorder utility whenever some event occurs relating to the recording. For example, it is called after initialisation when the utility is ready to begin recording. It would be called again if there was a problem during recording that meant it had to be terminated. 
<p>Definition at line <a class="el" href="mmfrec_8cpp-source.html#l00102">102</a> of file <a class="el" href="mmfrec_8cpp-source.html">mmfrec.cpp</a>.</p>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Jan 21 10:33:06 2010 for TB10.1 Example Applications by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
