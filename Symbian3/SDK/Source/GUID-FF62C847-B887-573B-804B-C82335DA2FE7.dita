<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2007-2010 Nokia Corporation and/or its subsidiary(-ies) All rights reserved. -->
<!-- This component and the accompanying materials are made available under the terms of the License 
"Eclipse Public License v1.0" which accompanies this distribution, 
and is available at the URL "http://www.eclipse.org/legal/epl-v10.html". -->
<!-- Initial Contributors:
    Nokia Corporation - initial contribution.
Contributors: 
-->
<!DOCTYPE concept
  PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="GUID-FF62C847-B887-573B-804B-C82335DA2FE7" xml:lang="en"><title>Comms-infras
Test Technology</title><prolog><metadata><keywords/></metadata></prolog><conbody>
<section><title> Scope</title> <p><b> Components
under test</b> </p> <p>The Comms-Infras (Communications Architecture Infrastructure)
subsystem provides a framework for the operation of all communication protocols
on a Symbian device. </p> <p>The Comms-Infras test suites test the esock sub-component. </p> <p><b> Test Scope</b> </p> <p><b> Published
API testing</b> </p> <p>This technology area provides a number of test suites
to test APIs that Symbian identify as PublishedAll and are documented in the
Symbian platform Library. These test suites can be used as a regression test
suite and also as part of a compatibility testing program. </p> <p>For more
details, refer to the individual classes in <xref href="GUID-4A21335F-7752-5134-98C5-D21D4657E094.dita">Comms-Infras
API</xref>. </p> <p><b>Test
Omissions</b> </p> <p>The behaviour of the Comms-Infras APIs is dependent
on the protocol being used. The protocols available are dependent on the device
used and so cannot be exhaustively tested. Consequently the test suites are
only tested using the most common protocols (that is, TCP and UDP). </p> <p>For
more details about omissions in the individual classes, refer to <xref href="GUID-4A21335F-7752-5134-98C5-D21D4657E094.dita">Comms-Infras
API</xref>. </p> </section>
<section><title> Environment</title> <p><b>Device
under Test Setup</b> </p> <p>The device under test (hardware platform/phone/emulator)
must have an appropriate Symbian platform or licensee-UI build. </p> <p><b>PC Setup</b> </p> <p>The PC must have a Symbian or licensee developer
kit, PDT and the relevant compilers (Code Warrior, RVCT, GCCE) installed to
build and execute the test code. </p> <p><b>Network
Environment Setup</b> </p> <p>The PC and the device under test must be on
the same network. </p> <p>The Comms-Infras test suites use sockets to send
and receive data. To ensure that the full networking stack is tested correctly,
the sockets on the PC and the device under test must be able send and receive
data between each other. Two PC ports, port 10007 for TCP data and port 10008
for UDP data, listen for and receive TCP and UDP data respectively sent by
the device under test. </p> <p>Follow the instructions in <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-8E8E2C13-102B-5DE3-AD49-9E719C443B60">Appendix A - Echo Server</xref> and <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-408C9D57-6330-56B5-B1EB-E06D7474A930">Appendix
B - NT RAS</xref> to set up TCP/IP communications between the PC and device
under test. </p> <p>However, it is also possible to use other TCP/IP connections
such as Ethernet and Wi-fi instead of NT RAS. To do this the appropriate table
needs to be referenced from the Comms database (COMMSDAT). You must change
the section [iap_settings] in <filepath>t_comms-infras.env</filepath> with
the table used to establish the connection. </p> <codeblock id="GUID-9782C15F-9B99-55C1-8ED5-82C668976E28" xml:space="preserve">
[iap_settings]
NetworkTable=1 &lt;Network table entry number in CommDbCommsInfras.xml&gt;
IAPTable=1 &lt;The IAP entry number in CommDbCommsInfras.xml&gt;
</codeblock> <p>The default preference for commdb in <filepath>CommDbCommsInfras.xml</filepath> is
given below: </p> <codeblock id="GUID-37D5B0F8-33E5-58A5-8DDE-A65967D73075" xml:space="preserve">
&lt;ConnectionPreferencesTable&gt;
   &lt;ConnectionPreferences operation="add"&gt;
     &lt;Name&gt;DefaultRecordName-1&lt;/Name&gt;
     &lt;Ranking&gt;1&lt;/Ranking&gt;          
     &lt;Direction&gt;OUTGOING&lt;/Direction&gt;
     &lt;BearerSet&gt;CSD&lt;/BearerSet&gt;    
     &lt;DialogPref&gt;DONOTPROMPT&lt;/DialogPref&gt;
     &lt;IAPRef&gt;&lt;my NTAS/ppp connection IAP&gt;&lt;/IAPRef&gt;
   &lt;/ConnectionPreferences&gt;
&lt;/ConnectionPreferencesTable&gt;
</codeblock> <p>You need your own <filepath>CommDbCommsInfras.xml</filepath> to
do this. </p> <p> <b>Note</b>: When executing the Comms-Infras test suites
on the emulator or the hardware reference board(H4), the preferred connection
channel should be the NT RAS. The preferred connection cannot be NT RAS when
you execute the Comms-Infras test suites on the real phone WIFI-enabled. </p> <p>The <filepath>CommDbCommsInfras.xml</filepath> file
is in the following location: </p> <p> <filepath>...\commsinfrastructureapitest\commsinfrastructuresvs\suite\group</filepath> </p> <p>For
command details refer <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-12CAAE91-8BFE-50F7-ADAD-699BAEA181DC">Building
and Execution</xref> section. </p> <p>When execute the Comms-Infras test suites
on the emulator or the hardware reference board(H4), you must first configure
the NT RAS using the instructions in <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-408C9D57-6330-56B5-B1EB-E06D7474A930">Appendix
B - NT RAS</xref>, and a serial port cable to connect the COM port. After
configuring NT RAS, you must <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-12CAAE91-8BFE-50F7-ADAD-699BAEA181DC">build
and execute </xref> the tests. </p> <p>For information about how to execute
the Comms-Infras test suites on the real phone with WIFI enable, see the <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-177B5101-DBD1-5B08-8DB7-B186528054EB">Appendix
C - Testing on real phone through WIFI connection</xref>. </p> <p><b>Test dependencies</b> </p> <p> <b>Note: </b> Any mention of “epoc32” is
offset by %EPOCROOT% that is, the full path where the epoc tree is installed. </p> <p><b>Test data</b> </p> <p>Test data for each test suite is in the following
location: </p> <ul>
<li id="GUID-C7932824-2E8F-5949-8D3E-A1F4D51B3C27"><p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\esock\t_rconnection\testdata</filepath> </p> </li>
<li id="GUID-0F34371C-70C8-5F61-B0E3-F23209368FB0"><p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\esock\t_rsocket\testdata</filepath> </p> </li>
<li id="GUID-55E878A8-2A6C-5C03-BF6E-AB510CB870B1"><p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\esock\t_rsocketserv\testdata</filepath> </p> </li>
<li id="GUID-2AA54850-74EF-5690-9D6E-04E294775E08"><p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\esock\t_rsubconnection\testdata</filepath> </p> </li>
</ul> <p>For more details, refer to <xref href="GUID-4A21335F-7752-5134-98C5-D21D4657E094.dita">Comms-Infras
API</xref>. </p> <p> </p> <p id="GUID-12CAAE91-8BFE-50F7-ADAD-699BAEA181DC"><b>Building and Execution</b> </p> <p>The
Comms-infras Test Suite Hierarchical Structure shown below illustrates the
Test Suite structure after building the test suite. General information about
the testdriver test suite structure may be found here » Symbian Verification
Suite » TestDriver V2 » TestDriver Output » Storing tests and results. </p> <p> <b>Note: </b> This
structure can be seen in the following location after building the test suite<filepath> 
            %EPOCROOT%\epoc32\testdriver\testproduct</filepath>  </p> <p>The <b>Comms-infras
Test Suite Hierarchical Structure </b> is as shown below: </p> <codeblock id="GUID-B1A3D74E-67FF-5F62-AAF2-5AC795834778" xml:space="preserve">&lt;Component&gt; - Comms-Infras
  &lt;Sub-component&gt;-Esock
    csd (Circuit Switched Data)
      &lt;Class&gt;-RConnection
        &lt;suite&gt;-COMINF-ESOCK-RConnection-PublicAPI-Other-Suite
        &lt;suite&gt;-COMINF-ESOCK-RConnection-PublicAPI-TCP-Suite
        &lt;suite&gt;-COMINF-ESOCK-RConnection-PublicAPI-UDP-Suite
      &lt;Class&gt;-RSocket
        &lt;suite&gt;-COMINF-ESOCK-RSocket-PublicAPI-Other-Suite
        &lt;suite&gt;-COMINF-ESOCK-RSocket-PublicAPI-TCP-Suite
        &lt;suite&gt;-COMINF-ESOCK-RSocket-PublicAPI-UDP-Suite
      &lt;Class&gt;-RSocketServ
        &lt;suite&gt;-COMINF-ESOCK-RSocketServ-PublicAPI-Other-Suite
        &lt;suite&gt;-COMINF-ESOCK-RSocketServ-PublicAPI-TCP-Suite
        &lt;suite&gt;-COMINF-ESOCK-RSocketServ-PublicAPI-UDP-Suite
    psd (Packet Switched Data)
      &lt;Class&gt;-RSubConnection
        &lt;suite&gt;-COMINF-ESOCK-RSubConnection-PublicAPI-Other-Suite
        &lt;suite&gt;-COMINF-ESOCK-RSubConnection-PublicAPI-TCP-Suite
        &lt;suite&gt;-COMINF-ESOCK-RSubConnection-PublicAPI-UDP-Suite</codeblock> <p> <b/>  </p> <p>The
hierarchical test suite structure facilitates easy build and execution of
the complete test suite or part of it. For example, if the path specified
is: </p> <ul>
<li id="GUID-B7F608F3-FF52-5D46-A569-F43E2FB6A3B4"><p> <codeph> &lt;comms-infras&gt;</codeph> -
The entire suite is built or executed </p> </li>
<li id="GUID-852ABD49-988E-511D-BD57-9823B90FDBFE"><p> <codeph> &lt;comms-infras.esock.csd&gt;</codeph> -
All the suites below csd that is, RConnection, RSocket, RSocketServ are built/executed. </p> </li>
<li id="GUID-C34187F7-00DD-503E-B6C1-13A8631086BD"><p> <codeph> &lt;comms-infras.esock.csd.RConnection&gt;</codeph> -
All the three RConnection suites are built/executed. </p> </li>
<li id="GUID-9A9A3912-AEBE-5294-9BB2-B3CBD8A40878"><p> <codeph>&lt;comms-infras.esock.csd.RConnection.RConnection-PublicAPI-Other-Suite&gt;</codeph> - <codeph>RConnection-PublicAPI-Other-Suite</codeph> is built or executed. </p> </li>
</ul> <p>The commands to be executed on emulator and hardware. </p> <p> <b>Note
:</b> Refer to Comms-infras Test Suite hierarchical structure for sub-component
and test suite names. </p> <p id="GUID-DE0928AD-399C-54C2-B999-55CA23C2CEBD"><b>General environment setup</b> </p> <ol id="GUID-EAFA0A49-9E87-5C87-BC54-CBADAC206752">
<li id="GUID-F95F99A1-966F-5756-81D8-D3EBF1A06EE5"><p>IAPSettings in the <filepath>t_comms-infras.ini</filepath> file: </p> <ul>
<li id="GUID-A073E521-04AE-57E9-A601-CD8CE61B76DA"><p>For WINSCW platform: </p> <p>Ensure
that under the [IAPSettings] section, IAPTable = 2 to use WinTap. </p> </li>
<li id="GUID-FE03ADAA-5582-5A29-A9AA-FD7ACB64AA68"><p>For ARMV5 platform: </p> <p>Ensure
that under the [IAPSettings] section, IAPTable = 1 to use NT RAS. </p> </li>
</ul> </li>
<li id="GUID-369AB491-0685-5890-8B67-738FBC6ADD1E"><p>The <filepath>t_comms-infras.ini</filepath> file
is generated by executing the InsertIPAddress batch file, which uses the <filepath>t_comms-infras.env</filepath> as
a template, in the following location: </p> <p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\esock\testdata</filepath> </p> <p>See <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-8E8E2C13-102B-5DE3-AD49-9E719C443B60">Appendix
A - Echo Server</xref> for more details on environment settings </p> </li>
<li id="GUID-BFDE8C23-88C6-574B-8269-95F53DADDBA7"><p>The entire Comms-Infras
Test component can be built from <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\group\…</filepath>  </p> <p>Individual
test components can be built from the respective group directory. For example, <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\esock\t_&lt;sub-component&gt;\group</filepath> </p> <p>Execute the following commands: </p> <p><userinput>InsertIpAddr </userinput> </p> <p><userinput>bldmake
bldfiles </userinput> </p> <p><userinput>abld test build [winscw|armv5] [urel|udeb] </userinput> </p> <p><userinput>%EPOCROOT%\epoc32\release\winscw\&lt;udeb/urel&gt;ced
z:\comms-infras\CommDbCommsInfras.xml</userinput> </p> <p> <b>Note:</b> This
command accomplishes the following: </p> <ul>
<li id="GUID-6B0C6533-ACB2-5A78-A253-16F206D6B67C"><p>Updates CommDB to use
the appropriate transport mechanism (NT RAS by default). See <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-408C9D57-6330-56B5-B1EB-E06D7474A930">Appendix B - NT RAS</xref> for more details. </p> </li>
<li id="GUID-46E3369F-29E3-5339-A0FF-25E22A56D71D"><p>Suppresses any WinTap
prompts. </p> </li>
<li id="GUID-16E14E0D-8A38-5706-9F5B-DCD2F444360E"><p>Updates CommDb to use
the right IAP table. </p> </li>
</ul> <p><userinput>startechoserver</userinput> </p> </li>
</ol> <p id="GUID-90508609-988E-59EE-A57D-F21C47A2BFD3"><b>Steps to build and execute
automatic tests using Test Driver</b> </p> <p><b>For WINSCW platform: </b> </p> <ol id="GUID-0CAC2C6C-FDB9-5993-B9E1-978C818BA02A">
<li id="GUID-496923BF-78AB-5B21-97E1-C22FA8714F0F"><p>Communication between
the PC and the device under test (Symbian platform device) is enabled using
STAT. So, the device under test must have STAT installed. </p> <p> <b>Note:</b> Refer
to <b>Symbian Verification Suite » TestDriver » Using TestDriver » Communicating
with the device » STAT plug-in</b> for more information. </p> </li>
<li id="GUID-B261C8B3-32FB-5CCB-A961-525ADF971B91"><p>Test Driver can be configured
using the automated scripts located at: </p> <p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\group\…</filepath> </p> <p><userinput> testdriversetup </userinput> </p> <p> <filepath>testdriversetup.bat</filepath> calls <filepath>testdriversetup.pl</filepath> which
applies an appropriate set of configuration parameters. </p> <p> <b>Note</b>:
If you execute the tests on the real phone using Test Driver, the eshell and
testexecute must be installed on the phone. See details in <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-177B5101-DBD1-5B08-8DB7-B186528054EB">Appendix C – Testing on real phone through WIFI connection</xref>. </p> </li>
<li id="GUID-20670B02-8DE7-5C96-AC9C-6BB0A9C7FE42"><p>Build the test code: </p> <p><userinput>testdriver
build [–p [winscw|armv5]] [–b [udeb|urel]] –s comms-infras[.esock[.&lt;csd|psd&gt;[.&lt;class
name&gt;[.&lt;test suite name &gt;]]]]</userinput> </p> <p>Testdriver commands can
be executed from any location. </p> <p> <b>Note:</b> For tree structure, refer
to Comms-infras Test Suite Hierarchical Structure in <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-12CAAE91-8BFE-50F7-ADAD-699BAEA181DC">Building and Execution</xref> section. </p> </li>
<li id="GUID-BE253868-68DE-5312-95FB-3F29E7EE1B76"><p> <b>Execute the Tests:</b>  </p> <p><userinput>testdriver
run</userinput> </p> </li>
</ol> <p><b>For ARMV5 platform: </b> </p> <ol id="GUID-DF651EA1-4FC5-5481-AA46-7BC29AD5854B">
<li id="GUID-BC86C1CB-4CFE-53CB-B2FA-8BDB4DE3C4CB"><p>Communication between
the PC and the device under test (Symbian platform device) is enabled using
STAT. So, the device under test must have STAT installed. </p> </li>
<li id="GUID-03C812FE-D710-56BE-B092-AD5D89C4E139"><p> <b>Communication between
PC and hardware:</b>  </p> <p>The hardware reference board (for example, H4)
must be connected to the PC through USB or serial cable. The ROM image is
built on the PC and transferred to the hardware board through MMC card. </p> <p> <b>Note:</b> Refer
to <b>Symbian Verification Suite » TestDriver » Using TestDriver » Communicating
with the device » STAT plug-in</b> for more information. </p> </li>
<li id="GUID-2178A594-B39D-523A-842E-B0B566EC1E7D"><p>Test Driver can be configured
using the automated scripts located at: </p> <p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\group\…</filepath> </p> <p><userinput> testdriversetup </userinput> </p> <p> <filepath>testdriversetup.bat</filepath> calls <filepath>testdriversetup.pl</filepath> which
applies an appropriate set of configuration parameters. </p> </li>
<li id="GUID-6EE24486-9EBB-5D18-911E-D7562B6EF009"><p>Build the test code: </p> <p><userinput>testdriver
build [–p [winscw|armv5]] [–b [udeb|urel]] –s comms-infras[.esock[.&lt;csd|psd&gt;[.&lt;class
name&gt;[.&lt;test suite name &gt;]]]]</userinput> </p> <p>Testdriver commands can
be executed from any location. </p> <p> <b>Note:</b> For tree structure, refer
to Comms-infras Test Suite Hierarchical Structure in <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-12CAAE91-8BFE-50F7-ADAD-699BAEA181DC">Building and Execution</xref> section. </p> </li>
<li id="GUID-83839530-D0FD-549D-BC1A-682BD9530DF1"><p> <b>To build the ROM
image:</b>  </p> <p><userinput>buildrom -D_STARTUPMODE2 -D_EABI=ARMV5 -DRVCT
-DUSE_STRONG_CRYPTOGRAPHY -D_CUSTOM_COMMSDAT &lt;h2/h4hrp&gt; techview_statapi
td_comms-infras</userinput> </p> </li>
<li id="GUID-290A36BE-A619-505C-BFD6-641F2D219001"><p> <b>Execute the Tests:</b>  </p> <p><userinput>testdriver
run -t &lt;transport service used&gt; </userinput> </p> <p>Transport service
used may be “serial&lt;COM port number that is connected to the board&gt;”, “bt&lt;COM
port number for BT dongle&gt;” or “usb&lt;mapped port number&gt;” </p> </li>
</ol> <p> <b>Note:</b>  </p> <ul>
<li id="GUID-14C19BF7-C884-5612-B41C-7FE533E73109"><p>All scripts and test
data are automatically removed from the system drive of the device under test
after the execution. </p> </li>
<li id="GUID-FE7BFBDA-8963-5BB7-A7E4-9E26F71BADAF"><p>The <codeph>RSubconnection</codeph> tests
and <codeph>COMINF-ESOCK-RSocket-PublicAPI-0024</codeph> test case are excluded
from execution. For more information, see <xref href="GUID-E8BD8844-3297-5848-BDF0-F6D595367145.dita#GUID-E8BD8844-3297-5848-BDF0-F6D595367145/GUID-CCC9A28C-29D5-560D-8284-4624911A28D7">Exclusion
of Packet Switched Data (PSD) Tests</xref>. </p> </li>
</ul> <p id="GUID-E83C0500-9203-53A7-92C4-7A08B713953A"><b>Steps to build and execute
tests manually (Tests built into ROM)</b> </p> <p><b>For WINSCW platform: </b> </p> <ol id="GUID-45550688-3896-5992-BD66-CF029D33FF72">
<li id="GUID-7F4FE861-7B01-5CFD-BD94-F0A62FEC24E5"><p> <b>Setup Scripts:</b>  </p> <p> <filepath>setup_t_comms-infras.script</filepath> is
used to execute the entire comms-infras test suite. </p> <p> <filepath> setup_COMINF-ESOCK-&lt;class
name&gt;-PublicAPI.script</filepath> is used to execute class specific test suites. </p> </li>
<li id="GUID-33EA6D54-EFC8-57E7-AE6A-A20F9C853BDE"><p> <b>Running Scripts:</b>  </p> <p>Change
directory to </p> <p> <filepath>%EPOCROOT%\epoc32\release\winscw\&lt;urel/udeb&gt;</filepath> </p> </li>
<li id="GUID-6365AD46-7DA8-5C44-AAC9-26077EC09C3F"><p> <b>Execute the Tests:</b>  </p> <p><userinput>testexecute
z:\comms-infras\esock\setup_&lt;test suite name&gt;.script </userinput> </p> <p> <filepath>setup_t_comms-infras.script</filepath> is
used to copy the test data files on to c:\drive. </p> <p><userinput>testexecute
c:\comms-infras\esock\&lt;test suite name&gt;.script</userinput> </p> <p> <filepath>t_comms-infras.script</filepath> is
used to execute the entire comms-infras test suite. </p> </li>
</ol> <p><b>For ARMV5 platform: </b> </p> <ol id="GUID-AEE95C52-52D2-5821-9107-9ED9763567B0">
<li id="GUID-A3074144-6D14-572F-8CD2-91C347DB9DF6"><p> <b>Build ROM image:</b>  </p> <p><userinput> buildrom
-D_EABI=ARMV5 –DRVCT -DUSE_STRONG_CRYPTOGRAPHY -D_CUSTOM_COMMSDAT &lt;h2/h4hrp&gt;
techview td_comms-infras</userinput> </p> </li>
<li id="GUID-0B944F34-4D9B-5662-9CA3-F1E69EB978CD"><p> <b>Setup Scripts:</b>  </p> <p> <codeph>setup_t_comms-infras.script </codeph> is
used to execute the entire comms-infras test suite. </p> <p>setup_COMINF-ESOCK-&lt;class
name&gt;-PublicAPI.script is used to execute class specific test suites. </p> </li>
<li id="GUID-32F3DE57-7549-51D8-8440-C795D970D6F8"><p> <b>Running Scripts:</b>  </p> <p><userinput>Open
eshell </userinput> </p> </li>
<li id="GUID-0583246A-BE11-5D98-97ED-59108AAEC93A"><p> <b>Execute the Tests:</b>  </p> <p><userinput>testexecute
z:\comms-infras\esock\setup_&lt;test suite name&gt;.script </userinput> </p> <p> <filepath>setup_t_comms-infras.script</filepath> is
used to copy the test data files on to c:\drive. </p> <p><userinput>testexecute
c:\comms-infras\esock\&lt;test suite name&gt;.script</userinput> </p> <p> <filepath>t_comms-infras.script</filepath> is
used to execute the entire comms-infras test suite. </p> </li>
</ol> <p><b>Steps
to build and execute tests on phone directly using .pkg file </b> </p> <p><b>For ARMV5 platform: </b> </p> <ol id="GUID-542DBDA1-D202-50F6-80E6-7499377F2294">
<li id="GUID-AD464104-19ED-545B-A93C-53236EA051CB"><p> <b> EShell and TestExecute:</b>  </p> <p>The
phone must have eshell and testexecute installed. </p> </li>
<li id="GUID-EF9D6F7C-8016-50EF-B993-F0BCD618A3F0"><p> <b> Certificate files:</b>  </p> <p>Ensure <filepath>.cer</filepath> and <filepath>.key</filepath> files are placed into <filepath>…/epoc32/pkg/</filepath> directory on the
PC and renamed as<filepath>zeus.cer</filepath> and <filepath>SymbianACS.key</filepath> correspondingly. </p> </li>
<li id="GUID-0A96ED67-7BE4-5A53-94F7-B4AC2A2D232F"><p> <b>Create and install
SIS-file:</b>  </p> <p>Execute <filepath>makesisfiles.bat</filepath> from <filepath>…/epoc32/pkg/</filepath> directory. </p> <p><userinput>makesisfiles.bat</userinput> </p> <p>This creates <filepath>t_rconnection.sis,</filepath> <filepath>t_rsocket.sis,</filepath>  <filepath>t_rsocketserv.sis,</filepath> and <filepath>t_rsubconnection.sis</filepath> files. The files must be copied to an MMC
card, transferred to the phone and executed. </p> <p>When the above files
are executed, the comms-infras test suite is installed on the device. </p> </li>
<li id="GUID-76BD5008-94A2-50F1-B9B1-FC162298C668"><p> <b> Running Scripts: </b>  </p> <p>Run
the test scripts. For more information refer to <xref href="GUID-FF62C847-B887-573B-804B-C82335DA2FE7.dita#GUID-FF62C847-B887-573B-804B-C82335DA2FE7/GUID-E83C0500-9203-53A7-92C4-7A08B713953A">Steps
to build and execute tests manually (Tests built into ROM)</xref>. </p> </li>
</ol> <p><b>Selective
Execution of Test Cases using TCS File</b> </p> <p>Test cases can be excluded
from a test run by using a <filepath>.tcs</filepath> file. The <filepath>.tcs</filepath> file
contains the IDs of test cases to be excluded. </p> <p>The test case IDs can
be specified as a range, a list, or a combination of both, where each range
or individual test case ID is delimited by a new-line character. </p> <p>For
example, range of test case IDs to be excluded can be specified as: </p> <p> <codeph>COMINF-ESOCK-RSubConnection-PublicAPI-0001:
             COMINF-ESOCK-RSubConnection-PublicAPI-0039</codeph>  </p> <p>A
list of test cases IDs to be excluded can be: </p> <p> <codeph>COMINF-ESOCK-RSubConnection-PublicAPI-0001</codeph>  </p> <p> <codeph>COMINF-ESOCK-RSubConnection-PublicAPI-0005</codeph>  </p> <p> <codeph>COMINF-ESOCK-RSubConnection-PublicAPI-0007</codeph>  </p> <p>A
combination of range and list can be: </p> <p> <codeph>COMINF-ESOCK-RSubConnection-PublicAPI-0005:
             COMINF-ESOCK-RSubConnection-PublicAPI-0010</codeph>  </p> <p> <codeph>COMINF-ESOCK-RSubConnection-PublicAPI-0015:
             COMINF-ESOCK-RSubConnection-PublicAPI-0020</codeph>  </p> <p> <codeph>COMINF-ESOCK-RSubConnection-PublicAPI-0030</codeph>  </p> <p>There
is only one <filepath>.tcs</filepath> file, which is located at the following
location: </p> <p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\config\t_comms-infras.tcs</filepath> </p> <p>For
more information on location of <filepath>.tcs</filepath> files , see <xref href="GUID-E8BD8844-3297-5848-BDF0-F6D595367145.dita#GUID-E8BD8844-3297-5848-BDF0-F6D595367145/GUID-ED257AC4-2608-5051-A5AB-EAB48FDA741A">TCS
File Source Location</xref> in Comms-Infras ESOCK Test Suite. </p> <p>Only <filepath>.tcs</filepath> file
is modified during test execution using the test driver. </p> <p>When executing
the tests manually, the following testexecute command illustrates the usage
of the <filepath>.tcs</filepath> file: </p> <p><userinput>testexecute %EPOCROOT%\epoc32\release\winscw\&lt;urel/udeb&gt;\&lt;test
suite name&gt;.script –[tcx|tci] %EPOCROOT%\epoc32\release\winscw\&lt;urel/udeb&gt;\
t_comms-infras.tcs</userinput> </p> <p>This executes the specified script
excluding the test cases specified in the <filepath>.tcs</filepath> file. </p> <p><b>Test Results</b> </p> <p><b> Test
Results log file location</b> </p> <p>After the tests complete execution,
result logs can be found on the system drive of the device in the \logs\testexecute\
directory. On the PC the location of the results depends on whether the tests
were run using TestDriver or Testexecute. TestDriver places the results in,<filepath>\epoc32\TestDriver\results\</filepath> and
creates a new folder for each test run. Testexecute places the results in<filepath> 
               \epoc32\winscw\c\logs\testexecute</filepath>. A <filepath>.html</filepath> log
file can be found for each script contained in the suite, in its own subfolder </p> <p>Each
test case in the script contains one test block, which performs a number of
actions on an API. The log will display the percentage of test cases that
have passed successfully. The script should ideally have a 100% pass rate. </p> <p><b>How to interpret test results</b> </p> <p>Each test suite produces its
own HTML log file containing the results of the test run . When examining
the log file, the results at the bottom of the log should be checked first.
This gives a summary of the number of tests in the suite that have passed,
failed or panicked. In the body of the log tests which pass are highlighted
in green, tests which fail in red and tests which cause a panic in blue. </p> <p>If
a failing/panicking test has been identified, its reason for failing/panicking
can be seen by examining each step in the test, listed between the “START_TESTCASE”
and “END_TESTCASE” tags. The steps which pass will have the word “INFO” followed
by some information regarding the step. A failing step will instead have the
word “ERROR”, followed by an explanation of the error (usually with an error
code). If a panic occurs there may be no textual explanation of the problem,
but a panic code will be given (within the blue highlighted text). </p> <p>When
this test suite is run on a real device, some of the tests may fail due to
limitations of the device. This will be because of the device not having the
correct hardware (for example, no modem exists for a test which needs one),
or lacking the right software plugins to run the test. This can be spotted
if the log displays that a test has failed with a -5 error (which means KErrNotSupported).
This -5 error basically means that the test has failed because the functionality
in this test is not supported on the device used. Therefore, any tests failing
with -5 are not due to defects, but to the limitations of the device used. </p> <p>Refer
to <b>Symbian Verification Suite » TestDriver » Using TestDriver » Results
» Viewing the test results</b> for more information on test driver results. </p> </section>
<section><title>OS Focussed Components</title> <p>Table 1 illustrates the
sub-components and classes available on each Symbian platform </p> <p> <b>Table
1 – Component ESOCK class tested on each Symbian platform baseline</b>  </p> <table id="GUID-3A6B9F3A-882E-554E-9E93-0C186D4B2105">
<tgroup cols="6"><colspec colname="col0"/><colspec colname="col1"/><colspec colname="col2"/><colspec colname="col3"/><colspec colname="col4"/><colspec colname="col5"/>
<thead>
<row>
<entry> Symbian platform Baseline</entry>
<entry>9.1</entry>
<entry>9.2</entry>
<entry>9.3 </entry>
<entry>9.4</entry>
<entry>9.5</entry>
</row>
<row>
<entry>Class1 - RConnection</entry>
</row>
<row>
<entry>Class2 – RSocketX</entry>
</row>
<row>
<entry>Class3 – RSocketServ</entry>
</row>
<row>
<entry>Class4 - RSubConnection</entry>
</row>
</thead>
<tbody>
<row>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
</row>
<row>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
</row>
<row>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
</row>
<row>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
<entry><p>X</p> </entry>
</row>
</tbody>
</tgroup>
</table> </section>
<section id="GUID-8E8E2C13-102B-5DE3-AD49-9E719C443B60"><title>Appendix A
- Echo Server</title> <p>To ensure that the full networking stack is correctly
tested, an external IP Echo Server is used to receive data on the PC from
the device under test and echo it back to a port on the device under test. </p> <p>In
order to send data to the EchoServer, the tests need its IP address (that
is, the real IP address of the PC running the server). This is set in the
global Comms-Infras environment file, t_comms-infras.env, found in the following
location </p> <p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\testdata\</filepath> </p> <p>t_comms-infras.env
file has the following lines: </p> <codeblock id="GUID-DE6CF9ED-8331-5A8F-AB70-85E92013A85B" xml:space="preserve">[Network]
LocalIpAddress    = &lt;insert_local_ip_address_here&gt;
TcpPort        =10007
UdpPort    =10008
LocalPort    =2024
BindPort    =10001
</codeblock> <p>The &lt;insert_local_ip_address_here&gt; tag needs to be replaced
with IP address of the PC running the EchoServer. For example: </p> <codeblock id="GUID-F3A5EDF1-EEE3-5EF8-AB71-50A73A98F752" xml:space="preserve">[Network]
LocalIpAddress    = 10.10.10.10
</codeblock> <p>The bind port is the port on the device under test that sends
TCP and UDP data to the PC. The local port is the port on the device that
receives the data echoed by the echo server on the PC. These ports may be
configured in the t_comms-infras.env file </p> <p>To generate the <filepath>t_comms-infras.ini</filepath> referred
to by the test data files and replace the IP address tag with the IP address
of the PC, execute the following batch file: </p> <p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\group\InsertIpAddr.bat</filepath> </p> <p>The batch file executes the command, ipconfig, to retrieve the required
IP address. </p> <p> <b>Note:</b> By default InsertIpAddr gets the IP address
from the ipconfig section ending “Local Area Connection”. If your IP address
is in a different section, you must edit InsertIpAddr.bat, changing “Local
Area Connection” to your section name. </p> <p>Run Echo Server on the test
PC using the following batch file: </p> <p> <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\group\StartEchoServer.bat</filepath> </p> <p>This will launch two command prompt windows. One each for the TCP
and UDP connections made to the server. After running all of the tests the
EchoServer can be stopped by closing the two Echo Server windows. </p> </section>
<section id="GUID-408C9D57-6330-56B5-B1EB-E06D7474A930"><title>Appendix B
- NT RAS</title> <p>If the tests are to be executed on the emulator, the PC
must have two COM ports which are connected through a null-modem cable. The
Symbian emulator talks to one of the COM ports and the NT RAS service talks
to the other. </p> <p>If the tests are to be executed on hardware one of the
serial (COM) ports on the PC has to be connected to the COM3 port on the hardware
board. </p> <p>Here are the full instructions for setting up NT RAS: </p> <p> <b>B.1
Install a Null modem</b>  </p> <ol id="GUID-6046CEB9-804B-5ED5-B0FA-7EAB5F19BCFE">
<li id="GUID-D58A23C9-581A-530E-AFA5-9EA471BC803E"><p>Open the Control Panel </p> </li>
<li id="GUID-735580CE-17FB-50B1-A450-994453D4EE74"><p>Open Phone and Modem
Settings (In Windows XP the option can be found in printers and other Hardware) </p> </li>
<li id="GUID-52B9E50E-E1E4-5C34-B02B-72A10E1ABD6E"><p>Goto the Modems tab </p> </li>
<li id="GUID-6E2D3CFA-CE39-5E96-8966-9C0F2136B309"><p>Select Add... </p> </li>
<li id="GUID-A2801561-996C-55D0-83F6-CFB8AA99C8AA"><p>Check the "Do not detect
my modem; I will select it from a list." check box </p> </li>
<li id="GUID-7B7E26E3-D55D-5224-ADCD-7B8E27E2618C"><p>Click Next </p> </li>
<li id="GUID-AB9E946D-319A-5E2A-AD62-936C23F9BE0C"><p>Select the (Standard
Modem Types) - Communications cable between two computers </p> </li>
<li id="GUID-5E6D2AB9-962C-5BD7-860D-04013F0CF516"><p>Select the appropriate
com port </p> </li>
<li id="GUID-92D93260-D91C-5796-9830-A2812DC3D377"><p>Click Finish </p> </li>
<li id="GUID-E0EA95B8-02E6-5640-AED5-E2B88B74F4A4"><p>Open the Properties
of the Modem you have just installed </p> </li>
<li id="GUID-0F0C1D16-D50D-58D2-B289-401EE8B1B1EE"><p>Set the maximum port
speed to be 115200 (on the General tab) </p> </li>
<li id="GUID-E0BDBDAB-9449-5258-BDC0-BAFBD54EE863"><p>Goto the Advanced tab </p> </li>
<li id="GUID-76A25947-20F9-5171-86A0-A5C4F83CE02E"><p>Click Change Default
Preferences... </p> </li>
<li id="GUID-6C819AE1-4B9E-516C-97E8-9C28CEDB2886"><p>Make sure the Port speed
is 115200 and the Flow control is None (on the General tab) </p> </li>
<li id="GUID-12FF4368-5F01-54D4-9F25-41BF48C067D0"><p>Goto the Advanced tab </p> </li>
<li id="GUID-1F3F06DD-2799-5F48-9EFD-742CABA19185"><p>Make sure the Data bits
= 8, Parity = None and Stop bits = 1 </p> </li>
<li id="GUID-FA91256C-189D-5241-8340-98AD340A09A2"><p>Keep clicking OK to
close all the open dialogs </p> </li>
</ol> <p> <b>B.2 Configuring NT RAS (Incoming Networking Connections)</b>  </p> <ol id="GUID-93BD9AD5-30AA-5F01-AC00-1EA7B8A183AD">
<li id="GUID-76BBAAD2-D85D-55D0-BFF2-EEB2C29FB67C"><p>Open the Control Panel </p> </li>
<li id="GUID-18490AEB-8135-5164-846C-63AEF4D240D4"><p>Open Networking and
Dial-up Connections (*) </p> </li>
<li id="GUID-F4B81013-CC2D-5EE8-B2E8-4300641AF368"><p>Open Make New Connection </p> </li>
<li id="GUID-7B271CB9-7336-50D1-88CD-7207A7B5C0FF"><p>Click Next </p> </li>
<li id="GUID-47CDB8D1-E6AE-5F5E-8753-C582BC538453"><p>Select the Accept incoming
connections and click Next </p> </li>
<li id="GUID-DA939D8C-FF04-5A89-8A09-9843048136D4"><p>Check the modem you
have just installed and click Next </p> </li>
<li id="GUID-5A2AB08C-DF07-5076-A5EF-F9D82577DBB4"><p>Select Do no allow virtual
private connections and click Next </p> </li>
<li id="GUID-D677D12F-730D-594F-8681-E73CADA9420F"><p>Add a new user </p> </li>
<li id="GUID-C657855F-8365-53F6-A3BF-2F87E7773870"><p>Click Add </p> <ol id="GUID-E08E58A2-5EF6-512F-9AD9-89D52D02EFC6">
<li id="GUID-E7DB4255-BA52-5317-B592-DA791E0B03AE"><p>Enter the following
details (noting the case): </p> <ol id="GUID-4A20CB6E-74E9-599D-9881-AA4D7C226A1D">
<li id="GUID-C81CAF26-2F3C-5EEC-88C4-FBEB43DBE739"><p>User name: RasUser </p> </li>
<li id="GUID-456E36DB-CFA2-5D66-8CAC-955D1E26B225"><p>Password: pass </p> </li>
</ol> <p> <b>Note</b>: Networks differ and may enforce strong passwords. In
such a scenario, the password must be modified in the commdb. This can be
done by modifying the following lines in the <filepath>CommDbCommsInfras.xml</filepath> file </p> <ul>
<li id="GUID-7AA9C78F-5882-568D-9A25-270A2D976640"><p>&lt;IfAuthName&gt;RasUser&lt;/IfAuthName&gt; </p> </li>
<li id="GUID-BA9DA566-9259-5DB3-BCB8-8C653D73FC0E"><p>&lt;IfAuthPass&gt;Pass&lt;/IfAuthPass&gt; </p> </li>
</ul> </li>
<li id="GUID-4AFE06F1-C8DE-5786-A693-7710785DA30B"><p>Click OK </p> </li>
<li id="GUID-77DACB9B-7A1D-5342-8B18-C8ADE86C490C"><p>Make sure the new user
is checked </p> </li>
<li id="GUID-558873A5-D396-5663-8CC2-70A8F478BDA0"><p>Click Next </p> </li>
</ol> </li>
<li id="GUID-D33808D3-20DD-5576-90C3-290083042D84"><p>Setup the Networking
Components </p> <ol id="GUID-DE06A816-A3D7-5647-B711-DFAAF102531E">
<li id="GUID-729D3B36-DB20-5D29-9A15-0390BD931C5B"><p>If TCP/IP is not set
up, uncheck "Allow callers to access my area Networks". </p> </li>
<li id="GUID-68C5A998-C782-58EF-A9AE-6C202ACF0F40"><p>Check "Specify TCP/IP
addresess" and add "192.68.0.1" to "From:"-mask and "192.68.0.2" to "To:"
mask. </p> <p> <b>Note:</b> This step may be machine or network dependent. </p> </li>
<li id="GUID-ABF179D2-B0D9-5287-B62E-FEDF727CD9DB"><p>Click Next </p> </li>
</ol> </li>
<li id="GUID-3136FF3C-B75A-55BC-9033-A40A586B6108"><p>Enter whatever name
you like for the connection name. </p> </li>
<li id="GUID-38D05A89-0542-5B36-A9BA-F8545343AA05"><p>Click Finish </p> </li>
<li id="GUID-28FFA56F-67C6-5FD0-9CDC-9ED05D3B8478"><p>Open the Properties
of the connection you have just created </p> </li>
<li id="GUID-9F2AC22B-67D5-5AE7-BF6D-F74B0928DB10"><p>Go to the Users tab </p> </li>
<li id="GUID-0875AA47-0638-503F-8325-6CA2E863D7A2"><p>Make sure the "Always
allow directly......... a password" check box is unchecked </p> </li>
<li id="GUID-102A3335-DCCC-5F7E-90F3-83892064BBA2"><p>Click OK </p> </li>
</ol> <p> <b>* Steps 1-6 on XP</b>  </p> <ol id="GUID-BB58DFF8-90B8-5496-8AD0-AF61684626A1">
<li id="GUID-15347C55-30DB-53F9-8824-3A0C50699608"><p>1. Select Network and
Internet Connections </p> </li>
<li id="GUID-7A2F0239-38B6-5A47-899C-A7292D15D339"><p>2. Select network connections </p> </li>
<li id="GUID-62F41048-5489-52F2-B4AF-5BFDA7E6FD24"><p>3. Click on “create
a new connection -&gt; new connection wizard </p> </li>
<li id="GUID-64A67B33-3176-5E9E-8102-418BF9902DE0"><p>4. Click next </p> </li>
<li id="GUID-A918F97C-4F05-5D35-B67F-92B7C8456946"><p>5. Select radio button
“set up an advanced connection </p> </li>
<li id="GUID-DCB151A4-40BE-5A93-9F2A-1C6F71F0F809"><p>6. Accept incoming connections </p> </li>
</ol> <p>Continue as instructed from step 6 onwards. </p> </section>
<section id="GUID-177B5101-DBD1-5B08-8DB7-B186528054EB"><title>Appendix C
- Testing on real phone through WIFI connection</title> <p>If the tests are
to be executed on the real phone through WIFI connection, a wireless router
must be connected to the PC to provide a wireless connection channel between
the PC and the real phone. </p> <p>Before you start testing, configure the
WIFI-enabled phone’s IP address within the wireless IP domain. The phone can
be configured using two types of IP addresses, static IP address and DHCP
IP address. </p> <p>Due to the convenience consideration of automated running
the test suites, the phone’s WIFI card IP address are configured as the static
IP address . The following are the instructions to set the static IP address: </p> <ol id="GUID-DD517E90-3A90-5FA9-B20E-A126A31B637E">
<li id="GUID-B359B246-E4CC-59D1-9F2F-9FFF2BF2586F"><p>Connect the wireless
router to the PC </p> </li>
<li id="GUID-34455916-ABDB-5DFB-91F3-B29FD4CF7EE7"><p>Switch on the phone’s
WIFI card and search for the WIFI hot spot. </p> </li>
<li id="GUID-816FB34F-04AB-5974-BCDA-85A9BCE62C1E"><p>Find a router to be
connected to the WIFI hotspot. </p> </li>
<li id="GUID-A40A10D2-3BE0-513A-90BB-7CF9AB7060F3"><p>Open the web browser
from the PC and logon to the administration web page, and move to the static
IP address configuration web page. </p> <p>The web page of static IP address
configuration shows the MAC address of WIFI card of phone. </p> </li>
<li id="GUID-C405CA63-A767-53A4-90BD-A04073D89636"><p>Click the <b>Add new
record</b> button to bind new static IP address to the MAC address of the
phone’s WIFI card. Once it is done, the wireless router assigns an IP address
to this phone’s WIFI card. Each time when the phone connected, the router
assigns this specified IP address to the phone. </p> </li>
</ol> <p>When the phone’s WIFI card IP is specified, you also must let the
PC run within the same network domain. This enables you to run InsertIpAddr.bat
during the wireless connection between the PC and router. You can also allocate
a static IP address to the PC through the configuration web page of the wireless
router. </p> <p>The following are the steps to execute the test on the real
phone through the WIFI connection: </p> <ol id="GUID-6519C26F-2F52-596D-A0D8-6DB1477BA953">
<li id="GUID-D43DC996-7308-521F-B9D7-7826E2C7DD9B"><p>Turn on the WIFI on
the real phone and connect it to the PC-connected wireless router. </p> </li>
<li id="GUID-1277798D-64E0-5EEF-8CCE-09AB5DBDA0F0"><p>Keep the router connecting
to the PC, and execute the <filepath>InsertIpAddr.bat</filepath> to generate
the correct IP allocated with in the wireless router’s domain in the t_comms-infras.ini. </p> </li>
<li id="GUID-B36454A9-FC6A-5CE0-8A94-30E6EE4EE09C"><p>The entire Comms-Infras
test component can be built from <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\group\...</filepath> </p> <p>Individual
test components can be built from the respective group directory. For example,<filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\esock\t_&lt;sub-component&gt;\group</filepath>. </p> <p>Run the following commands : </p> <p><userinput>bldmake bldfiles</userinput> </p> <p><userinput>abld
test build armv5 urel </userinput> </p> <p> <b>Note</b>: To connect to the
licensee server , change back the network cable connection to the original
network from PC side might is needed. When it finished , change back the connection
to the wireless router. </p> </li>
<li id="GUID-059C8A82-C0C1-5BE3-BD66-07E98963EE00"><p>Run the following command: </p> <p><userinput>startechoserver</userinput> </p> <p>If
you want to build and execute the tests using the testdriver, make sure the <codeph>statapi</codeph> application
exists in the phone and it must be run on the real phone before you proceed
for further steps. </p> </li>
<li id="GUID-9AAC8E10-13B9-5397-B169-61F530976780"><p>Configure the TestDriver
using the automated scripts located at <filepath>…\commsinfrastructureapitest\commsinfrastructuresvs\suite\group\…</filepath>  </p> <p>Execute
the following commands: </p> <p><userinput> testdriversetup</userinput> </p> <p> <filepath> testdriversetup.bat</filepath> calls <filepath>testdriversetup.pl
                </filepath> which applies an appropriate set of configuration
parameters. </p> <p><userinput>testdriver config --testexec OFF</userinput> </p> <p>This
command notifies the testdriver that it must not transfer the TEF component
sis file to the real phone if the real phone has already built-in TEF module. </p> <p><userinput>testdriver
config --cert phone_applied_cert_file </userinput> </p> <p><userinput>testdriver
config --key phone_applied_key_file </userinput> </p> </li>
<li id="GUID-183605C9-F7BF-50FD-90A8-68E1443360F0"><p>Connect the PC and the
real phone with USB or some other cable, and execute the following commands: </p> <p><userinput>testdriver
build -p armv5 -b urel -s comms-infras.esock.csd.RConnection</userinput> </p> <p><userinput>testdriver
run -p armv5 -b urel -s comms-infras.esock.csd.RConnection –t usb1</userinput> </p> </li>
</ol> <p> <b>Notes</b>: </p> <ul>
<li id="GUID-EB611980-424B-55A1-93E2-9B9100EBE530"><p>During the execution,
if the phone’s CommsDB has not cancel the dialog prompt in the ConnectionPreferences
table, you must manually select the WIFI hot spot (IAP) to be connected to
the Echoserver. </p> </li>
<li id="GUID-BB06D2E2-2A22-5C9F-AFE1-7CFA9DED6142"><p>Ensure that the wireless
connection of the phone remains unaffected because phone has different wireless
signal strength under different situations. For example, wireless strength
may vary with distance. </p> </li>
<li id="GUID-1C1709ED-59D4-5FD1-A2A9-3531A412F9E5"><p>While testing under
the wireless environment, the phone package can be blocked by the PC’s firewall.
To avoid this problem, modify the firewall configuration to turn off this
blocking or close the firewall. </p> </li>
</ul> </section>
</conbody></concept>