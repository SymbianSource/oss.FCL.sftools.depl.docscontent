<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright (c) 2007-2010 Nokia Corporation and/or its subsidiary(-ies) All rights reserved. -->
<!-- This component and the accompanying materials are made available under the terms of the License 
"Eclipse Public License v1.0" which accompanies this distribution, 
and is available at the URL "http://www.eclipse.org/legal/epl-v10.html". -->
<!-- Initial Contributors:
    Nokia Corporation - initial contribution.
Contributors: 
-->
<!DOCTYPE task
  PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd">
<task xml:lang="en" id="GUID-93EF4862-2395-5ED7-8446-A7FDA60535B1"><title>Playing a Fixed Tone Sequence </title><shortdesc>This tutorial introduces you to play in sequence a fixed tone. </shortdesc><prolog><metadata><keywords/></metadata></prolog><taskbody><context id="GUID-9AD58F4C-7FD7-5C71-B9BA-CF14172CD515"><p>You have to configure DevSound in order to play a Fixed Tone Sequence. </p> <p>The following settings can be configured before or during tone play: </p> <ul><li id="GUID-A35BE674-E8C8-575D-AA17-4BF8DC413907"><p>To return the number of available predefined tone sequences, use the <xref href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.dita#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD/GUID-B47A7C84-5799-3D46-835A-86966961F14E"><apiname>CMMFDevSound::FixedSequenceCount()</apiname></xref> method: </p> <codeblock id="GUID-1C140C5B-A124-5290-9C46-5B6F7414083C" xml:space="preserve">IMPORT_C TInt FixedSequenceCount();</codeblock> <p>This is the number of fixed sequences supported by DevSound by default. </p> </li> <li id="GUID-5B97D91B-0254-5942-A67D-35023EB65617"><p>To return the name assigned to a specific predefined tone sequence, use the <xref href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.dita#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD/GUID-B0DF4DA1-A986-3B39-9538-4E8E9333450D"><apiname>CMMFDevSound::FixedSequenceName()</apiname></xref> method: </p> <codeblock id="GUID-84B33207-B56D-5080-ADDC-F0919E228793" xml:space="preserve">IMPORT_C const TDesC &amp;FixedSequenceName(TInt aSequenceNumber);</codeblock> <p>This method has one parameter, <codeph>aSequenceNumber</codeph>, the index identifying the specific predefined tone sequence and returns a reference to a descriptor containing the fixed sequence name indexed by <codeph>aSequenceNumber</codeph>. </p> </li> <li id="GUID-646F32CC-EEC7-5AB6-9C5B-3DE57E076D71"><p>To change the volume of the audio device to a specific value, use the <xref href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.dita#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD/GUID-C93E8531-F569-3F6B-AE65-A36749FCE7DF"><apiname>CMMFDevSound::SetVolume()</apiname></xref> function. The volume can be set to any value from 0 to <xref href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.dita#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD/GUID-1BFCB3CB-17C7-399B-9089-3ADFF43044BA"><apiname>CMMFDevSound::MaxVolume()</apiname></xref>. </p> <p>To define a period over which the volume rises from 0 to the normal volume level, use the <xref href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.dita#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD/GUID-AF47B65D-DEFA-3D11-B6AB-2DC876D25EF7"><apiname>CMMFDevSound::SetVolumeRamp()</apiname></xref> function. </p> <p> <b>Note:</b> The <xref href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.dita#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD/GUID-AF47B65D-DEFA-3D11-B6AB-2DC876D25EF7"><apiname>CMMFDevSound::SetVolumeRamp()</apiname></xref> function is only available during tone play. </p> </li> <li id="GUID-9A084BD5-0129-515F-903D-BFF0C15CFD97"><p>To set the speaker balance, use the <xref href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.dita#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD/GUID-0D55BCC4-9882-3F49-B1AD-922B48264F79"><apiname>CMMFDevSound::SetPlayBalanceL()</apiname></xref> function. This function has two parameters: </p> <ul><li id="GUID-81C55F4A-EDB6-5BF5-9C06-774CCA17A557"><p> <codeph>aLeftPercentage</codeph> - the left speaker volume percentage. </p> </li> <li id="GUID-500B8942-CDF6-5351-A477-DD5C877B9C97"><p> <codeph>aRightPercentage</codeph> - the right speaker volume percentage. </p> </li> </ul> </li> <li id="GUID-088FB072-2D31-5D74-8FC9-F73D2D2A5631"><p>To set the priority setting for this instance of DevSound to access the audio device, use the <xref href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.dita#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD/GUID-1B3B1694-EED8-3B33-B424-C48DDAFBE75A"><apiname>CMMFDevSound::SetPrioritySettings()</apiname></xref> method. Priority settings are used by the Audio Policy component to resolve multiple requests to access the audio hardware. </p> </li> </ul> </context> <steps-unordered id="GUID-103647A5-E19B-50F6-B510-2DFBD62E123A"><step id="GUID-406FC4FC-6506-5BDB-930B-CEF50AFE3F64"><cmd/><info>Call the <xref href="GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD.dita#GUID-B3E9B015-1413-35A6-A316-D1C01C1001AD/GUID-32BCEB03-5399-390A-B842-949F30F76CB3"><apiname>CMMFDevSound::PlayFixedSequenceL(TInt)</apiname></xref> function to start playing a fixed tone sequence. </info> <info>This function has one parameter, <codeph>aSequenceNumber</codeph>, the index identifying the specific predefined tone sequence to be played. </info> </step> <step id="GUID-A1EA2CE4-51E3-5906-BF23-CE216924C669"><cmd/><info>Call <xref href="GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD.dita#GUID-D0F3F385-68C9-331D-865F-DA36589BE9FD/GUID-8AD3FCA2-84C3-3BFC-B0A9-CEAF132D0BF5"><apiname>MDevSoundObserver::ToneFinished(TInt)</apiname></xref> function to complete successfully a fixed tone sequence. </info> <info> Note: Further calls to <codeph>CMMFDevSound::PlayFixedSequenceL(TInt)</codeph> can be made both before and after the <codeph>MDevSoundObserver::ToneFinished(TInt)</codeph> callback is received. </info> </step> </steps-unordered> </taskbody><related-links><link href="GUID-DD8BFFF1-15C7-59B0-A107-C5CC90DBF4CC.dita"><linktext>Pausing and
                Resuming a Tone</linktext> </link> </related-links></task>